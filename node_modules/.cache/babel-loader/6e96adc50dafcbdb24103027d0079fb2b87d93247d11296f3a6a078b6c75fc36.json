{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useCovidGdpApiData.js\nimport { useEffect, useState } from \"react\";\n\n// Map dashboard key → pomber COVID label\nconst COVID_COUNTRY_MAP = {\n  US: \"US\",\n  DE: \"Germany\",\n  IT: \"Italy\",\n  JP: \"Japan\",\n  CA: \"Canada\",\n  FR: \"France\",\n  SE: \"Sweden\",\n  MX: \"Mexico\",\n  NZ: \"New Zealand\",\n  TH: \"Thailand\"\n};\n\n// Which GDP source to prefer for each country\n// (we now *prefer* TE for these 4 but will fall back to WB)\nconst GDP_SOURCE = {\n  US: \"worldbank\",\n  DE: \"worldbank\",\n  IT: \"worldbank\",\n  JP: \"worldbank\",\n  CA: \"worldbank\",\n  FR: \"worldbank\",\n  SE: \"tradingeconomics\",\n  MX: \"tradingeconomics\",\n  NZ: \"tradingeconomics\",\n  TH: \"tradingeconomics\"\n};\n\n// World Bank country codes (ISO3)\nconst WB_COUNTRY_MAP = {\n  US: \"USA\",\n  DE: \"DEU\",\n  IT: \"ITA\",\n  JP: \"JPN\",\n  CA: \"CAN\",\n  FR: \"FRA\",\n  SE: \"SWE\",\n  MX: \"MEX\",\n  NZ: \"NZL\",\n  TH: \"THA\"\n};\n\n// TradingEconomics country names (for the URL)\nconst TE_COUNTRY_MAP = {\n  SE: \"sweden\",\n  MX: \"mexico\",\n  NZ: \"new zealand\",\n  TH: \"thailand\"\n};\n\n// Helper: compute growth % series from value series (for TE level data)\nfunction computeGrowthSeries(values) {\n  return values.map((point, idx, arr) => {\n    if (idx === 0) {\n      return {\n        ...point,\n        growth: null\n      };\n    }\n    const prev = arr[idx - 1].value;\n    const growth = prev === 0 || prev == null ? null : (point.value - prev) / prev * 100;\n    return {\n      ...point,\n      growth\n    };\n  });\n}\nasync function fetchWorldBankGdp(wbCode) {\n  // World Bank GDP growth (annual %)\n  const wbUrl = `https://api.worldbank.org/v2/country/${wbCode}/indicator/NY.GDP.MKTP.KD.ZG?format=json&per_page=100`;\n  const wbRes = await fetch(wbUrl);\n  if (!wbRes.ok) {\n    const text = await wbRes.text();\n    throw new Error(`World Bank GDP request failed (${wbRes.status}): ${text || \"no body\"}`);\n  }\n  const wbJson = await wbRes.json();\n  const dataArray = Array.isArray(wbJson) && Array.isArray(wbJson[1]) ? wbJson[1] : [];\n  const gdpValues = dataArray.filter(row => row.value != null && row.date).map(row => ({\n    // Convert year \"2020\" → \"2020-12-31\" to align with daily data\n    date: `${row.date}-12-31`,\n    value: Number(row.value),\n    growth: Number(row.value) // already in percent\n  }));\n  gdpValues.sort((a, b) => a.date < b.date ? -1 : a.date > b.date ? 1 : 0);\n  return gdpValues;\n}\n\n/**\n * Hook: fetch COVID daily data + GDP data (WB OR TE w/ fallback) and join by date\n */\nexport function useCovidGdpApiData(countryKey) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [covidDaily, setCovidDaily] = useState([]);\n  const [gdpSeries, setGdpSeries] = useState([]);\n  const [combined, setCombined] = useState([]);\n  const covidKey = COVID_COUNTRY_MAP[countryKey] || countryKey;\n  const preferredSource = GDP_SOURCE[countryKey] || \"worldbank\";\n  const wbCode = WB_COUNTRY_MAP[countryKey] || \"USA\";\n  const teCountry = TE_COUNTRY_MAP[countryKey];\n  const teApiKey = process.env.REACT_APP_TE_API_KEY;\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      try {\n        //\n        // 1. COVID daily data from pomber\n        //\n        const covidRes = await fetch(\"https://pomber.github.io/covid19/timeseries.json\");\n        if (!covidRes.ok) {\n          throw new Error(\"COVID API request failed\");\n        }\n        const covidJson = await covidRes.json();\n        const series = covidJson[covidKey];\n        if (!series) {\n          throw new Error(`No COVID data for country: ${covidKey}`);\n        }\n        const covidWithNew = series.map((row, idx) => {\n          const prevConfirmed = idx > 0 ? series[idx - 1].confirmed : 0;\n          const newCases = row.confirmed - prevConfirmed;\n          return {\n            date: row.date,\n            confirmed: row.confirmed,\n            deaths: row.deaths,\n            recovered: row.recovered,\n            newCases: newCases < 0 ? 0 : newCases\n          };\n        });\n\n        //\n        // 2. GDP data: try preferred source; if TE fails or empty, fall back to WB\n        //\n        let gdpWithGrowth = [];\n        if (preferredSource === \"tradingeconomics\") {\n          let teOk = false;\n          if (!teApiKey) {\n            console.warn(\"Missing REACT_APP_TE_API_KEY; skipping TradingEconomics and using World Bank.\");\n          } else if (!teCountry) {\n            console.warn(`No TradingEconomics mapping for ${countryKey}; using World Bank.`);\n          } else {\n            try {\n              const teBase = \"https://api.tradingeconomics.com\";\n              const teUrl = `${teBase}/historical/country/${encodeURIComponent(teCountry)}/indicator/gdp?c=${encodeURIComponent(teApiKey)}`;\n              const gdpRes = await fetch(teUrl);\n              if (!gdpRes.ok) {\n                const text = await gdpRes.text();\n                console.warn(`TradingEconomics GDP request failed (${gdpRes.status}): ${text || \"no body\"}`);\n              } else {\n                const teData = await gdpRes.json();\n                const gdpRaw = Array.isArray(teData) ? teData : [];\n                const gdpValues = gdpRaw.filter(row => row.Value != null).map(row => ({\n                  date: row.Date ? row.Date.substring(0, 10) : null,\n                  value: Number(row.Value)\n                })).filter(row => row.date != null);\n                gdpValues.sort((a, b) => a.date < b.date ? -1 : a.date > b.date ? 1 : 0);\n                if (gdpValues.length > 0) {\n                  gdpWithGrowth = computeGrowthSeries(gdpValues);\n                  teOk = true;\n                  console.log(`TradingEconomics GDP loaded for ${countryKey}, points:`, gdpWithGrowth.length);\n                } else {\n                  console.warn(`TradingEconomics returned no usable GDP values for ${countryKey}; falling back to World Bank.`);\n                }\n              }\n            } catch (teErr) {\n              console.warn(`TradingEconomics error for ${countryKey}; falling back to World Bank:`, teErr);\n            }\n          }\n\n          // Fallback if TE failed or gave no data\n          if (!teOk) {\n            gdpWithGrowth = await fetchWorldBankGdp(wbCode);\n          }\n        } else {\n          // preferred source is worldbank\n          gdpWithGrowth = await fetchWorldBankGdp(wbCode);\n        }\n\n        //\n        // 3. Join GDP growth onto each daily COVID date (step-like)\n        //\n        let j = 0;\n        const joined = covidWithNew.map(day => {\n          const dayDate = day.date;\n          while (j + 1 < gdpWithGrowth.length && gdpWithGrowth[j + 1].date <= dayDate) {\n            j++;\n          }\n          const gdpForDay = gdpWithGrowth[j] || null;\n          return {\n            date: day.date,\n            newCases: day.newCases,\n            confirmed: day.confirmed,\n            deaths: day.deaths,\n            gdpGrowth: gdpForDay ? gdpForDay.growth : null\n          };\n        });\n        setCovidDaily(covidWithNew);\n        setGdpSeries(gdpWithGrowth);\n        setCombined(joined);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"useCovidGdpApiData error:\", err);\n        setError(err);\n        setLoading(false);\n      }\n    }\n    if (countryKey) {\n      fetchData();\n    }\n  }, [countryKey, covidKey, preferredSource, wbCode, teCountry, teApiKey]);\n  return {\n    loading,\n    error,\n    covidDaily,\n    gdpSeries,\n    combined\n  };\n}\n_s(useCovidGdpApiData, \"QSABJevVDZQIcSWzB2W5w0ZfyAM=\");","map":{"version":3,"names":["useEffect","useState","COVID_COUNTRY_MAP","US","DE","IT","JP","CA","FR","SE","MX","NZ","TH","GDP_SOURCE","WB_COUNTRY_MAP","TE_COUNTRY_MAP","computeGrowthSeries","values","map","point","idx","arr","growth","prev","value","fetchWorldBankGdp","wbCode","wbUrl","wbRes","fetch","ok","text","Error","status","wbJson","json","dataArray","Array","isArray","gdpValues","filter","row","date","Number","sort","a","b","useCovidGdpApiData","countryKey","_s","loading","setLoading","error","setError","covidDaily","setCovidDaily","gdpSeries","setGdpSeries","combined","setCombined","covidKey","preferredSource","teCountry","teApiKey","process","env","REACT_APP_TE_API_KEY","fetchData","covidRes","covidJson","series","covidWithNew","prevConfirmed","confirmed","newCases","deaths","recovered","gdpWithGrowth","teOk","console","warn","teBase","teUrl","encodeURIComponent","gdpRes","teData","gdpRaw","Value","Date","substring","length","log","teErr","j","joined","day","dayDate","gdpForDay","gdpGrowth","err"],"sources":["/Users/trakoolthai/Desktop/front-end-final-project/src/hooks/useCovidGdpApiData.js"],"sourcesContent":["// src/hooks/useCovidGdpApiData.js\nimport { useEffect, useState } from \"react\";\n\n// Map dashboard key → pomber COVID label\nconst COVID_COUNTRY_MAP = {\n    US: \"US\",\n    DE: \"Germany\",\n    IT: \"Italy\",\n    JP: \"Japan\",\n    CA: \"Canada\",\n    FR: \"France\",\n    SE: \"Sweden\",\n    MX: \"Mexico\",\n    NZ: \"New Zealand\",\n    TH: \"Thailand\",\n};\n\n// Which GDP source to prefer for each country\n// (we now *prefer* TE for these 4 but will fall back to WB)\nconst GDP_SOURCE = {\n    US: \"worldbank\",\n    DE: \"worldbank\",\n    IT: \"worldbank\",\n    JP: \"worldbank\",\n    CA: \"worldbank\",\n    FR: \"worldbank\",\n\n    SE: \"tradingeconomics\",\n    MX: \"tradingeconomics\",\n    NZ: \"tradingeconomics\",\n    TH: \"tradingeconomics\",\n};\n\n// World Bank country codes (ISO3)\nconst WB_COUNTRY_MAP = {\n    US: \"USA\",\n    DE: \"DEU\",\n    IT: \"ITA\",\n    JP: \"JPN\",\n    CA: \"CAN\",\n    FR: \"FRA\",\n    SE: \"SWE\",\n    MX: \"MEX\",\n    NZ: \"NZL\",\n    TH: \"THA\",\n};\n\n// TradingEconomics country names (for the URL)\nconst TE_COUNTRY_MAP = {\n    SE: \"sweden\",\n    MX: \"mexico\",\n    NZ: \"new zealand\",\n    TH: \"thailand\",\n};\n\n// Helper: compute growth % series from value series (for TE level data)\nfunction computeGrowthSeries(values) {\n    return values.map((point, idx, arr) => {\n        if (idx === 0) {\n            return { ...point, growth: null };\n        }\n        const prev = arr[idx - 1].value;\n        const growth =\n            prev === 0 || prev == null\n                ? null\n                : ((point.value - prev) / prev) * 100;\n        return { ...point, growth };\n    });\n}\n\nasync function fetchWorldBankGdp(wbCode) {\n    // World Bank GDP growth (annual %)\n    const wbUrl = `https://api.worldbank.org/v2/country/${wbCode}/indicator/NY.GDP.MKTP.KD.ZG?format=json&per_page=100`;\n    const wbRes = await fetch(wbUrl);\n    if (!wbRes.ok) {\n        const text = await wbRes.text();\n        throw new Error(\n            `World Bank GDP request failed (${wbRes.status}): ${\n                text || \"no body\"\n            }`\n        );\n    }\n\n    const wbJson = await wbRes.json();\n    const dataArray =\n        Array.isArray(wbJson) && Array.isArray(wbJson[1]) ? wbJson[1] : [];\n\n    const gdpValues = dataArray\n        .filter((row) => row.value != null && row.date)\n        .map((row) => ({\n            // Convert year \"2020\" → \"2020-12-31\" to align with daily data\n            date: `${row.date}-12-31`,\n            value: Number(row.value),\n            growth: Number(row.value), // already in percent\n        }));\n\n    gdpValues.sort((a, b) => (a.date < b.date ? -1 : a.date > b.date ? 1 : 0));\n\n    return gdpValues;\n}\n\n/**\n * Hook: fetch COVID daily data + GDP data (WB OR TE w/ fallback) and join by date\n */\nexport function useCovidGdpApiData(countryKey) {\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const [covidDaily, setCovidDaily] = useState([]);\n    const [gdpSeries, setGdpSeries] = useState([]);\n    const [combined, setCombined] = useState([]);\n\n    const covidKey = COVID_COUNTRY_MAP[countryKey] || countryKey;\n    const preferredSource = GDP_SOURCE[countryKey] || \"worldbank\";\n    const wbCode = WB_COUNTRY_MAP[countryKey] || \"USA\";\n    const teCountry = TE_COUNTRY_MAP[countryKey];\n    const teApiKey = process.env.REACT_APP_TE_API_KEY;\n\n    useEffect(() => {\n        async function fetchData() {\n            setLoading(true);\n            setError(null);\n\n            try {\n                //\n                // 1. COVID daily data from pomber\n                //\n                const covidRes = await fetch(\n                    \"https://pomber.github.io/covid19/timeseries.json\"\n                );\n                if (!covidRes.ok) {\n                    throw new Error(\"COVID API request failed\");\n                }\n                const covidJson = await covidRes.json();\n                const series = covidJson[covidKey];\n                if (!series) {\n                    throw new Error(`No COVID data for country: ${covidKey}`);\n                }\n\n                const covidWithNew = series.map((row, idx) => {\n                    const prevConfirmed =\n                        idx > 0 ? series[idx - 1].confirmed : 0;\n                    const newCases = row.confirmed - prevConfirmed;\n                    return {\n                        date: row.date,\n                        confirmed: row.confirmed,\n                        deaths: row.deaths,\n                        recovered: row.recovered,\n                        newCases: newCases < 0 ? 0 : newCases,\n                    };\n                });\n\n                //\n                // 2. GDP data: try preferred source; if TE fails or empty, fall back to WB\n                //\n                let gdpWithGrowth = [];\n\n                if (preferredSource === \"tradingeconomics\") {\n                    let teOk = false;\n\n                    if (!teApiKey) {\n                        console.warn(\n                            \"Missing REACT_APP_TE_API_KEY; skipping TradingEconomics and using World Bank.\"\n                        );\n                    } else if (!teCountry) {\n                        console.warn(\n                            `No TradingEconomics mapping for ${countryKey}; using World Bank.`\n                        );\n                    } else {\n                        try {\n                            const teBase = \"https://api.tradingeconomics.com\";\n                            const teUrl = `${teBase}/historical/country/${encodeURIComponent(\n                                teCountry\n                            )}/indicator/gdp?c=${encodeURIComponent(teApiKey)}`;\n\n                            const gdpRes = await fetch(teUrl);\n                            if (!gdpRes.ok) {\n                                const text = await gdpRes.text();\n                                console.warn(\n                                    `TradingEconomics GDP request failed (${\n                                        gdpRes.status\n                                    }): ${text || \"no body\"}`\n                                );\n                            } else {\n                                const teData = await gdpRes.json();\n                                const gdpRaw = Array.isArray(teData)\n                                    ? teData\n                                    : [];\n\n                                const gdpValues = gdpRaw\n                                    .filter((row) => row.Value != null)\n                                    .map((row) => ({\n                                        date: row.Date\n                                            ? row.Date.substring(0, 10)\n                                            : null,\n                                        value: Number(row.Value),\n                                    }))\n                                    .filter((row) => row.date != null);\n\n                                gdpValues.sort((a, b) =>\n                                    a.date < b.date\n                                        ? -1\n                                        : a.date > b.date\n                                        ? 1\n                                        : 0\n                                );\n\n                                if (gdpValues.length > 0) {\n                                    gdpWithGrowth =\n                                        computeGrowthSeries(gdpValues);\n                                    teOk = true;\n                                    console.log(\n                                        `TradingEconomics GDP loaded for ${countryKey}, points:`,\n                                        gdpWithGrowth.length\n                                    );\n                                } else {\n                                    console.warn(\n                                        `TradingEconomics returned no usable GDP values for ${countryKey}; falling back to World Bank.`\n                                    );\n                                }\n                            }\n                        } catch (teErr) {\n                            console.warn(\n                                `TradingEconomics error for ${countryKey}; falling back to World Bank:`,\n                                teErr\n                            );\n                        }\n                    }\n\n                    // Fallback if TE failed or gave no data\n                    if (!teOk) {\n                        gdpWithGrowth = await fetchWorldBankGdp(wbCode);\n                    }\n                } else {\n                    // preferred source is worldbank\n                    gdpWithGrowth = await fetchWorldBankGdp(wbCode);\n                }\n\n                //\n                // 3. Join GDP growth onto each daily COVID date (step-like)\n                //\n                let j = 0;\n                const joined = covidWithNew.map((day) => {\n                    const dayDate = day.date;\n                    while (\n                        j + 1 < gdpWithGrowth.length &&\n                        gdpWithGrowth[j + 1].date <= dayDate\n                    ) {\n                        j++;\n                    }\n                    const gdpForDay = gdpWithGrowth[j] || null;\n\n                    return {\n                        date: day.date,\n                        newCases: day.newCases,\n                        confirmed: day.confirmed,\n                        deaths: day.deaths,\n                        gdpGrowth: gdpForDay ? gdpForDay.growth : null,\n                    };\n                });\n\n                setCovidDaily(covidWithNew);\n                setGdpSeries(gdpWithGrowth);\n                setCombined(joined);\n                setLoading(false);\n            } catch (err) {\n                console.error(\"useCovidGdpApiData error:\", err);\n                setError(err);\n                setLoading(false);\n            }\n        }\n\n        if (countryKey) {\n            fetchData();\n        }\n    }, [countryKey, covidKey, preferredSource, wbCode, teCountry, teApiKey]);\n\n    return { loading, error, covidDaily, gdpSeries, combined };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}