{"ast":null,"code":"var _jsxFileName = \"/Users/trakoolthai/Desktop/front-end-final-project/src/pages/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Legend, Title } from \"chart.js\";\nimport { useCovidGdpApiData } from \"../hooks/useCovidGdpApiData\";\nimport SummaryCard from \"../components/SummaryCard\";\nimport DataPreviewTable from \"../components/DataPreviewTable\";\nimport { formatNumber } from \"../utils/formatters\";\nimport { rollingAverage, computeTrend } from \"../utils/dataTransforms\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Legend, Title);\nconst COUNTRY_CONFIG = [{\n  key: \"US\",\n  label: \"United States\"\n}, {\n  key: \"DE\",\n  label: \"Germany\"\n}, {\n  key: \"IT\",\n  label: \"Italy\"\n}, {\n  key: \"JP\",\n  label: \"Japan\"\n}, {\n  key: \"CA\",\n  label: \"Canada\"\n}, {\n  key: \"FR\",\n  label: \"France\"\n}, {\n  key: \"SE\",\n  label: \"Sweden\"\n}, {\n  key: \"MX\",\n  label: \"Mexico\"\n}, {\n  key: \"NZ\",\n  label: \"New Zealand\"\n}, {\n  key: \"TH\",\n  label: \"Thailand\"\n}];\nconst lightTheme = {\n  background: \"#f5f5f5\",\n  textPrimary: \"#111\",\n  textSecondary: \"#555\",\n  textMuted: \"#555\",\n  cardBg: \"#ffffff\",\n  border: \"#e0e0e0\"\n};\nfunction applyDateRange(data, range) {\n  if (!data || data.length === 0) return [];\n  if (range === \"max\") return data;\n  const n = range === \"30d\" ? 30 : range === \"90d\" ? 90 : range === \"1y\" ? 365 : 0;\n  if (n === 0 || data.length <= n) return data;\n  return data.slice(-n);\n}\nfunction Dashboard() {\n  _s();\n  const [selectedCountry, setSelectedCountry] = useState(\"US\");\n  const [compareCountry, setCompareCountry] = useState(\"DE\");\n  const [covidSource, setCovidSource] = useState(\"who\"); // \"who\" | \"te\"\n  const [viewMode, setViewMode] = useState(\"single\"); // \"single\" | \"compare\"\n  const [showRolling, setShowRolling] = useState(false);\n  const [dateRange, setDateRange] = useState(\"max\"); // \"30d\" | \"90d\" | \"1y\" | \"max\"\n\n  const theme = lightTheme;\n\n  // ---------- Primary country data ----------\n  const {\n    loading: loadingA,\n    error: errorA,\n    combined: combinedA,\n    covidDaily: covidDailyA\n  } = useCovidGdpApiData(selectedCountry, covidSource);\n  const covidSourceLabel = covidSource === \"who\" ? \"WHO / Pomber timeseries\" : \"TradingEconomics (fallback to WHO)\";\n  const combinedAFiltered = useMemo(() => applyDateRange(combinedA || [], dateRange), [combinedA, dateRange]);\n  const latestA = useMemo(() => {\n    if (!covidDailyA || covidDailyA.length === 0) return null;\n    return covidDailyA[covidDailyA.length - 1];\n  }, [covidDailyA]);\n  const latestGdpA = useMemo(() => {\n    if (!combinedA || combinedA.length === 0) return null;\n    const lastWithGdp = [...combinedA].reverse().find(d => d.gdpGrowth != null);\n    return lastWithGdp || null;\n  }, [combinedA]);\n  const newCasesSeriesA = combinedA ? combinedA.map(d => d.newCases) : [];\n  const gdpSeriesA = combinedA ? combinedA.map(d => d.gdpGrowth) : [];\n  const casesTrend = useMemo(() => computeTrend(newCasesSeriesA, 7), [newCasesSeriesA]);\n  const gdpTrend = useMemo(() => computeTrend(gdpSeriesA, 8), [gdpSeriesA]);\n\n  // ---------- Single view datasets ----------\n  const labelsA = combinedAFiltered.map(d => d.date);\n  const newCasesA = combinedAFiltered.map(d => d.newCases);\n  const gdpA = combinedAFiltered.map(d => d.gdpGrowth);\n  const newCasesPlotA = showRolling ? rollingAverage(newCasesA, 7) : newCasesA;\n  const timeSeriesDataSingle = {\n    labels: labelsA,\n    datasets: [{\n      label: showRolling ? \"New cases (7-day avg)\" : \"New cases\",\n      data: newCasesPlotA,\n      borderColor: \"#1976d2\",\n      backgroundColor: \"rgba(25, 118, 210, 0.15)\",\n      borderWidth: 1.5,\n      pointRadius: 0,\n      tension: 0.25,\n      yAxisID: \"yCases\"\n    }, {\n      label: \"GDP growth (%)\",\n      data: gdpA,\n      borderColor: \"#388e3c\",\n      backgroundColor: \"rgba(56, 142, 60, 0.15)\",\n      borderWidth: 1.5,\n      pointRadius: 0,\n      tension: 0.25,\n      yAxisID: \"yGdp\"\n    }]\n  };\n  const timeSeriesOptionsSingle = {\n    responsive: true,\n    maintainAspectRatio: false,\n    interaction: {\n      mode: \"index\",\n      intersect: false\n    },\n    plugins: {\n      legend: {\n        position: \"top\",\n        labels: {\n          font: {\n            size: 11\n          },\n          color: theme.textPrimary\n        }\n      },\n      title: {\n        display: true,\n        text: \"COVID-19 & GDP over time\",\n        font: {\n          size: 14\n        },\n        color: theme.textPrimary\n      },\n      tooltip: {\n        callbacks: {\n          label: function (ctx) {\n            const label = ctx.dataset.label || \"\";\n            const value = ctx.raw;\n            if (label.toLowerCase().includes(\"cases\")) {\n              return `${label}: ${formatNumber(value)}`;\n            }\n            if (label.includes(\"GDP growth\")) {\n              if (value == null) return `${label}: —`;\n              return `${label}: ${value.toFixed(2)}%`;\n            }\n            return `${label}: ${value}`;\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        ticks: {\n          maxTicksLimit: 10,\n          font: {\n            size: 10\n          },\n          color: theme.textSecondary\n        },\n        grid: {\n          color: theme.border\n        }\n      },\n      yCases: {\n        type: \"linear\",\n        position: \"left\",\n        title: {\n          display: true,\n          text: \"New cases\",\n          color: theme.textSecondary\n        },\n        ticks: {\n          callback: v => formatNumber(v),\n          font: {\n            size: 10\n          },\n          color: theme.textSecondary\n        },\n        grid: {\n          color: theme.border\n        }\n      },\n      yGdp: {\n        type: \"linear\",\n        position: \"right\",\n        title: {\n          display: true,\n          text: \"GDP growth (%)\",\n          color: theme.textSecondary\n        },\n        grid: {\n          drawOnChartArea: false,\n          color: theme.border\n        },\n        ticks: {\n          callback: v => v == null ? \"\" : `${v.toFixed(1)}%`,\n          font: {\n            size: 10\n          },\n          color: theme.textSecondary\n        }\n      }\n    }\n  };\n\n  // ---------- Comparison view data ----------\n  const {\n    loading: loadingB,\n    error: errorB,\n    combined: combinedB,\n    covidDaily: covidDailyB\n  } = useCovidGdpApiData(compareCountry, covidSource);\n  const combinedBFiltered = useMemo(() => applyDateRange(combinedB || [], dateRange), [combinedB, dateRange]);\n  const latestB = useMemo(() => {\n    if (!covidDailyB || covidDailyB.length === 0) return null;\n    return covidDailyB[covidDailyB.length - 1];\n  }, [covidDailyB]);\n  const latestGdpB = useMemo(() => {\n    if (!combinedB || combinedB.length === 0) return null;\n    const lastWithGdp = [...combinedB].reverse().find(d => d.gdpGrowth != null);\n    return lastWithGdp || null;\n  }, [combinedB]);\n  const labelsCompare = combinedAFiltered.map(d => d.date);\n  const mapB = new Map(combinedBFiltered.map(d => [d.date, d]));\n  const casesACompare = combinedAFiltered.map(d => d.newCases);\n  const casesBCompare = labelsCompare.map(date => {\n    const row = mapB.get(date);\n    return row ? row.newCases : null;\n  });\n  const gdpACompare = combinedAFiltered.map(d => d.gdpGrowth);\n  const gdpBCompare = labelsCompare.map(date => {\n    const row = mapB.get(date);\n    return row ? row.gdpGrowth : null;\n  });\n  const timeSeriesDataCompare = {\n    labels: labelsCompare,\n    datasets: [{\n      label: `New cases (${selectedCountry})`,\n      data: casesACompare,\n      borderColor: \"#1976d2\",\n      backgroundColor: \"rgba(25, 118, 210, 0.15)\",\n      borderWidth: 1.5,\n      pointRadius: 0,\n      tension: 0.25,\n      yAxisID: \"yCases\"\n    }, {\n      label: `New cases (${compareCountry})`,\n      data: casesBCompare,\n      borderColor: \"#ff9800\",\n      backgroundColor: \"rgba(255, 152, 0, 0.12)\",\n      borderWidth: 1.5,\n      pointRadius: 0,\n      tension: 0.25,\n      yAxisID: \"yCases\"\n    }, {\n      label: `GDP growth (%) (${selectedCountry})`,\n      data: gdpACompare,\n      borderColor: \"#388e3c\",\n      backgroundColor: \"rgba(56, 142, 60, 0.15)\",\n      borderWidth: 1.5,\n      pointRadius: 0,\n      tension: 0.25,\n      yAxisID: \"yGdp\"\n    }, {\n      label: `GDP growth (%) (${compareCountry})`,\n      data: gdpBCompare,\n      borderColor: \"#9c27b0\",\n      backgroundColor: \"rgba(156, 39, 176, 0.15)\",\n      borderWidth: 1.5,\n      pointRadius: 0,\n      tension: 0.25,\n      yAxisID: \"yGdp\"\n    }]\n  };\n  const timeSeriesOptionsCompare = {\n    responsive: true,\n    maintainAspectRatio: false,\n    interaction: {\n      mode: \"index\",\n      intersect: false\n    },\n    plugins: {\n      legend: {\n        position: \"top\",\n        labels: {\n          font: {\n            size: 11\n          },\n          color: theme.textPrimary\n        }\n      },\n      title: {\n        display: true,\n        text: \"Country comparison: COVID-19 & GDP\",\n        font: {\n          size: 14\n        },\n        color: theme.textPrimary\n      },\n      tooltip: {\n        callbacks: {\n          label: function (ctx) {\n            const label = ctx.dataset.label || \"\";\n            const value = ctx.raw;\n            if (label.toLowerCase().includes(\"cases\")) {\n              return `${label}: ${formatNumber(value)}`;\n            }\n            if (label.includes(\"GDP growth\")) {\n              if (value == null) return `${label}: —`;\n              return `${label}: ${value.toFixed(2)}%`;\n            }\n            return `${label}: ${value}`;\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        ticks: {\n          maxTicksLimit: 10,\n          font: {\n            size: 10\n          },\n          color: theme.textSecondary\n        },\n        grid: {\n          color: theme.border\n        }\n      },\n      yCases: {\n        type: \"linear\",\n        position: \"left\",\n        title: {\n          display: true,\n          text: \"New cases\",\n          color: theme.textSecondary\n        },\n        ticks: {\n          callback: v => formatNumber(v),\n          font: {\n            size: 10\n          },\n          color: theme.textSecondary\n        },\n        grid: {\n          color: theme.border\n        }\n      },\n      yGdp: {\n        type: \"linear\",\n        position: \"right\",\n        title: {\n          display: true,\n          text: \"GDP growth (%)\",\n          color: theme.textSecondary\n        },\n        grid: {\n          drawOnChartArea: false,\n          color: theme.border\n        },\n        ticks: {\n          callback: v => v == null ? \"\" : `${v.toFixed(1)}%`,\n          font: {\n            size: 10\n          },\n          color: theme.textSecondary\n        }\n      }\n    }\n  };\n  const loading = viewMode === \"single\" ? loadingA : loadingA || loadingB;\n  const error = viewMode === \"single\" ? errorA : errorA || errorB;\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    role: \"main\",\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            margin: 0\n          },\n          children: \"COVID\\u2013GDP Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: \"4px 0\",\n            color: theme.textSecondary,\n            maxWidth: 520,\n            fontSize: 14\n          },\n          children: [\"Visualizing how \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"COVID-19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 41\n          }, this), \" affects\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"economic activity (GDP growth)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 25\n          }, this), \" across various countries, using public datasets and a token-protected GDP API.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0,\n            fontSize: 13,\n            color: theme.textMuted\n          },\n          children: [\"COVID source: \", covidSourceLabel]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"flex-end\",\n          gap: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pill-toggle\",\n          \"aria-label\": \"COVID data source\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pill-toggle-label\",\n            children: \"COVID data:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setCovidSource(\"who\"),\n            className: covidSource === \"who\" ? \"is-active\" : \"\",\n            children: \"WHO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setCovidSource(\"te\"),\n            className: covidSource === \"te\" ? \"is-active\" : \"\",\n            children: \"TE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section\",\n      \"aria-label\": \"View mode\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pill-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setViewMode(\"single\"),\n          className: viewMode === \"single\" ? \"is-active\" : \"\",\n          children: \"Single country\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setViewMode(\"compare\"),\n          className: viewMode === \"compare\" ? \"is-active\" : \"\",\n          children: \"Compare countries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section\",\n      \"aria-label\": \"Date range\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pill-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pill-toggle-label\",\n          children: \"Date range:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setDateRange(\"30d\"),\n          className: dateRange === \"30d\" ? \"is-active\" : \"\",\n          children: \"30d\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setDateRange(\"90d\"),\n          className: dateRange === \"90d\" ? \"is-active\" : \"\",\n          children: \"90d\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setDateRange(\"1y\"),\n          className: dateRange === \"1y\" ? \"is-active\" : \"\",\n          children: \"1y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setDateRange(\"max\"),\n          className: dateRange === \"max\" ? \"is-active\" : \"\",\n          children: \"Max\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section\",\n      \"aria-label\": \"Select country\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title\",\n        children: \"Select country\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"country-grid\",\n        children: COUNTRY_CONFIG.map(c => {\n          const active = c.key === selectedCountry;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setSelectedCountry(c.key),\n            className: `country-card ${active ? \"is-active\" : \"\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600\n              },\n              children: c.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"country-card-code\",\n              children: c.key\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 33\n            }, this)]\n          }, c.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 13\n    }, this), viewMode === \"compare\" && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section\",\n      \"aria-label\": \"Compare with another country\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        style: {\n          fontSize: 16\n        },\n        children: \"Compare with another country\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chip-row\",\n        children: COUNTRY_CONFIG.filter(c => c.key !== selectedCountry).map(c => {\n          const active = c.key === compareCountry;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setCompareCountry(c.key),\n            className: `chip ${active ? \"is-active\" : \"\"}`,\n            children: c.label\n          }, c.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 17\n    }, this), loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-text\",\n        children: \"Loading data\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section summary-grid\",\n        \"aria-hidden\": \"true\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card skeleton-card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card skeleton-card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card skeleton-card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card skeleton-card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"chart-card section\",\n        \"aria-hidden\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton-chart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), error && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-text\",\n      children: [\"Error loading data: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 17\n    }, this), !loading && !error && viewMode === \"single\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section summary-grid\",\n        \"aria-label\": \"Key metrics\",\n        children: [/*#__PURE__*/_jsxDEV(SummaryCard, {\n          theme: theme,\n          title: \"Latest new cases\",\n          value: latestA ? formatNumber(latestA.newCases) : \"—\",\n          subtitle: `Source: ${covidSource === \"who\" ? \"WHO / Pomber\" : \"TE\"}`,\n          trend: casesTrend,\n          trendLabel: \"7-day trend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n          theme: theme,\n          title: \"Total confirmed\",\n          value: latestA ? formatNumber(latestA.confirmed) : \"—\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n          theme: theme,\n          title: \"Total deaths\",\n          value: latestA && latestA.deaths != null ? formatNumber(latestA.deaths) : \"—\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n          theme: theme,\n          title: \"Latest GDP growth\",\n          value: latestGdpA && latestGdpA.gdpGrowth != null ? `${latestGdpA.gdpGrowth.toFixed(1)}%` : \"—\",\n          subtitle: \"GDP: World Bank + TradingEconomics (token)\",\n          trend: gdpTrend,\n          trendLabel: \"Recent trend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"rolling-toggle\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowRolling(v => !v),\n          children: showRolling ? \"Show daily values\" : \"Show 7-day averages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"chart-card section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"COVID vs GDP over time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-subtitle\",\n          children: \"Left axis: new COVID cases per day. Right axis: GDP growth (%). Use the date range filter above to zoom in on recent periods, similar to stock dashboards.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"figure\", {\n          \"aria-label\": \"Line chart showing COVID cases and GDP growth over time for the selected country.\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-container\",\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: timeSeriesDataSingle,\n              options: timeSeriesOptionsSingle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"figcaption\", {\n            style: {\n              fontSize: 11,\n              color: \"#555\",\n              marginTop: 4\n            },\n            children: \"Visual summary of the joined COVID\\u2013GDP dataset shown in the table below.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(DataPreviewTable, {\n        theme: theme,\n        combined: combinedAFiltered,\n        title: \"Sample of joined data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), !loading && !error && viewMode === \"compare\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section summary-grid\",\n        \"aria-label\": \"Key metrics (comparison)\",\n        children: [/*#__PURE__*/_jsxDEV(SummaryCard, {\n          theme: theme,\n          title: `Latest new cases (${selectedCountry})`,\n          value: latestA ? formatNumber(latestA.newCases) : \"—\",\n          subtitle: `Confirmed: ${latestA ? formatNumber(latestA.confirmed) : \"—\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n          theme: theme,\n          title: `Latest new cases (${compareCountry})`,\n          value: latestB ? formatNumber(latestB.newCases) : \"—\",\n          subtitle: `Confirmed: ${latestB ? formatNumber(latestB.confirmed) : \"—\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n          theme: theme,\n          title: `Latest GDP growth (${selectedCountry})`,\n          value: latestGdpA && latestGdpA.gdpGrowth != null ? `${latestGdpA.gdpGrowth.toFixed(1)}%` : \"—\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n          theme: theme,\n          title: `Latest GDP growth (${compareCountry})`,\n          value: latestGdpB && latestGdpB.gdpGrowth != null ? `${latestGdpB.gdpGrowth.toFixed(1)}%` : \"—\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"chart-card section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Country comparison: COVID & GDP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-subtitle\",\n          children: \"Compare daily new cases and GDP growth between two countries. Differences in policy, timing, and vaccine rollout often show up as different shapes in these curves.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"figure\", {\n          \"aria-label\": \"Line chart comparing COVID cases and GDP growth between two countries.\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-container\",\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: timeSeriesDataCompare,\n              options: timeSeriesOptionsCompare\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"figcaption\", {\n            style: {\n              fontSize: 11,\n              color: \"#555\",\n              marginTop: 4\n            },\n            children: \"Both countries are shown on the same date axis for direct comparison.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(DataPreviewTable, {\n        theme: theme,\n        combined: combinedAFiltered,\n        title: `Sample data (${selectedCountry})`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 760,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"app-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Data sources: WHO, World Bank, TradingEconomics (token-protected GDP API).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 770,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Built for CS564 Front-End Final Project \\u2014\", \" \", new Date().getFullYear()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 774,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 386,\n    columnNumber: 9\n  }, this);\n}\n_s(Dashboard, \"33zCOd4LKTPQoi4iyAulMY/K2zE=\", false, function () {\n  return [useCovidGdpApiData, useCovidGdpApiData];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useMemo","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Legend","Title","useCovidGdpApiData","SummaryCard","DataPreviewTable","formatNumber","rollingAverage","computeTrend","jsxDEV","_jsxDEV","Fragment","_Fragment","register","COUNTRY_CONFIG","key","label","lightTheme","background","textPrimary","textSecondary","textMuted","cardBg","border","applyDateRange","data","range","length","n","slice","Dashboard","_s","selectedCountry","setSelectedCountry","compareCountry","setCompareCountry","covidSource","setCovidSource","viewMode","setViewMode","showRolling","setShowRolling","dateRange","setDateRange","theme","loading","loadingA","error","errorA","combined","combinedA","covidDaily","covidDailyA","covidSourceLabel","combinedAFiltered","latestA","latestGdpA","lastWithGdp","reverse","find","d","gdpGrowth","newCasesSeriesA","map","newCases","gdpSeriesA","casesTrend","gdpTrend","labelsA","date","newCasesA","gdpA","newCasesPlotA","timeSeriesDataSingle","labels","datasets","borderColor","backgroundColor","borderWidth","pointRadius","tension","yAxisID","timeSeriesOptionsSingle","responsive","maintainAspectRatio","interaction","mode","intersect","plugins","legend","position","font","size","color","title","display","text","tooltip","callbacks","ctx","dataset","value","raw","toLowerCase","includes","toFixed","scales","x","ticks","maxTicksLimit","grid","yCases","type","callback","v","yGdp","drawOnChartArea","loadingB","errorB","combinedB","covidDailyB","combinedBFiltered","latestB","latestGdpB","labelsCompare","mapB","Map","casesACompare","casesBCompare","row","get","gdpACompare","gdpBCompare","timeSeriesDataCompare","timeSeriesOptionsCompare","role","className","children","style","margin","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","fontSize","flexDirection","alignItems","gap","onClick","c","active","fontWeight","filter","message","subtitle","trend","trendLabel","confirmed","deaths","options","marginTop","Date","getFullYear","_c","$RefreshReg$"],"sources":["/Users/trakoolthai/Desktop/front-end-final-project/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useMemo } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Tooltip,\n    Legend,\n    Title,\n} from \"chart.js\";\nimport { useCovidGdpApiData } from \"../hooks/useCovidGdpApiData\";\nimport SummaryCard from \"../components/SummaryCard\";\nimport DataPreviewTable from \"../components/DataPreviewTable\";\nimport { formatNumber } from \"../utils/formatters\";\nimport { rollingAverage, computeTrend } from \"../utils/dataTransforms\";\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Tooltip,\n    Legend,\n    Title\n);\n\nconst COUNTRY_CONFIG = [\n    { key: \"US\", label: \"United States\" },\n    { key: \"DE\", label: \"Germany\" },\n    { key: \"IT\", label: \"Italy\" },\n    { key: \"JP\", label: \"Japan\" },\n    { key: \"CA\", label: \"Canada\" },\n    { key: \"FR\", label: \"France\" },\n    { key: \"SE\", label: \"Sweden\" },\n    { key: \"MX\", label: \"Mexico\" },\n    { key: \"NZ\", label: \"New Zealand\" },\n    { key: \"TH\", label: \"Thailand\" },\n];\n\nconst lightTheme = {\n    background: \"#f5f5f5\",\n    textPrimary: \"#111\",\n    textSecondary: \"#555\",\n    textMuted: \"#555\",\n    cardBg: \"#ffffff\",\n    border: \"#e0e0e0\",\n};\n\nfunction applyDateRange(data, range) {\n    if (!data || data.length === 0) return [];\n    if (range === \"max\") return data;\n\n    const n =\n        range === \"30d\" ? 30 : range === \"90d\" ? 90 : range === \"1y\" ? 365 : 0;\n    if (n === 0 || data.length <= n) return data;\n\n    return data.slice(-n);\n}\n\nfunction Dashboard() {\n    const [selectedCountry, setSelectedCountry] = useState(\"US\");\n    const [compareCountry, setCompareCountry] = useState(\"DE\");\n    const [covidSource, setCovidSource] = useState(\"who\"); // \"who\" | \"te\"\n    const [viewMode, setViewMode] = useState(\"single\"); // \"single\" | \"compare\"\n    const [showRolling, setShowRolling] = useState(false);\n    const [dateRange, setDateRange] = useState(\"max\"); // \"30d\" | \"90d\" | \"1y\" | \"max\"\n\n    const theme = lightTheme;\n\n    // ---------- Primary country data ----------\n    const {\n        loading: loadingA,\n        error: errorA,\n        combined: combinedA,\n        covidDaily: covidDailyA,\n    } = useCovidGdpApiData(selectedCountry, covidSource);\n\n    const covidSourceLabel =\n        covidSource === \"who\"\n            ? \"WHO / Pomber timeseries\"\n            : \"TradingEconomics (fallback to WHO)\";\n\n    const combinedAFiltered = useMemo(\n        () => applyDateRange(combinedA || [], dateRange),\n        [combinedA, dateRange]\n    );\n\n    const latestA = useMemo(() => {\n        if (!covidDailyA || covidDailyA.length === 0) return null;\n        return covidDailyA[covidDailyA.length - 1];\n    }, [covidDailyA]);\n\n    const latestGdpA = useMemo(() => {\n        if (!combinedA || combinedA.length === 0) return null;\n        const lastWithGdp = [...combinedA]\n            .reverse()\n            .find((d) => d.gdpGrowth != null);\n        return lastWithGdp || null;\n    }, [combinedA]);\n\n    const newCasesSeriesA = combinedA ? combinedA.map((d) => d.newCases) : [];\n    const gdpSeriesA = combinedA ? combinedA.map((d) => d.gdpGrowth) : [];\n\n    const casesTrend = useMemo(\n        () => computeTrend(newCasesSeriesA, 7),\n        [newCasesSeriesA]\n    );\n    const gdpTrend = useMemo(() => computeTrend(gdpSeriesA, 8), [gdpSeriesA]);\n\n    // ---------- Single view datasets ----------\n    const labelsA = combinedAFiltered.map((d) => d.date);\n    const newCasesA = combinedAFiltered.map((d) => d.newCases);\n    const gdpA = combinedAFiltered.map((d) => d.gdpGrowth);\n\n    const newCasesPlotA = showRolling\n        ? rollingAverage(newCasesA, 7)\n        : newCasesA;\n\n    const timeSeriesDataSingle = {\n        labels: labelsA,\n        datasets: [\n            {\n                label: showRolling ? \"New cases (7-day avg)\" : \"New cases\",\n                data: newCasesPlotA,\n                borderColor: \"#1976d2\",\n                backgroundColor: \"rgba(25, 118, 210, 0.15)\",\n                borderWidth: 1.5,\n                pointRadius: 0,\n                tension: 0.25,\n                yAxisID: \"yCases\",\n            },\n            {\n                label: \"GDP growth (%)\",\n                data: gdpA,\n                borderColor: \"#388e3c\",\n                backgroundColor: \"rgba(56, 142, 60, 0.15)\",\n                borderWidth: 1.5,\n                pointRadius: 0,\n                tension: 0.25,\n                yAxisID: \"yGdp\",\n            },\n        ],\n    };\n\n    const timeSeriesOptionsSingle = {\n        responsive: true,\n        maintainAspectRatio: false,\n        interaction: { mode: \"index\", intersect: false },\n        plugins: {\n            legend: {\n                position: \"top\",\n                labels: { font: { size: 11 }, color: theme.textPrimary },\n            },\n            title: {\n                display: true,\n                text: \"COVID-19 & GDP over time\",\n                font: { size: 14 },\n                color: theme.textPrimary,\n            },\n            tooltip: {\n                callbacks: {\n                    label: function (ctx) {\n                        const label = ctx.dataset.label || \"\";\n                        const value = ctx.raw;\n                        if (label.toLowerCase().includes(\"cases\")) {\n                            return `${label}: ${formatNumber(value)}`;\n                        }\n                        if (label.includes(\"GDP growth\")) {\n                            if (value == null) return `${label}: —`;\n                            return `${label}: ${value.toFixed(2)}%`;\n                        }\n                        return `${label}: ${value}`;\n                    },\n                },\n            },\n        },\n        scales: {\n            x: {\n                ticks: {\n                    maxTicksLimit: 10,\n                    font: { size: 10 },\n                    color: theme.textSecondary,\n                },\n                grid: { color: theme.border },\n            },\n            yCases: {\n                type: \"linear\",\n                position: \"left\",\n                title: {\n                    display: true,\n                    text: \"New cases\",\n                    color: theme.textSecondary,\n                },\n                ticks: {\n                    callback: (v) => formatNumber(v),\n                    font: { size: 10 },\n                    color: theme.textSecondary,\n                },\n                grid: { color: theme.border },\n            },\n            yGdp: {\n                type: \"linear\",\n                position: \"right\",\n                title: {\n                    display: true,\n                    text: \"GDP growth (%)\",\n                    color: theme.textSecondary,\n                },\n                grid: { drawOnChartArea: false, color: theme.border },\n                ticks: {\n                    callback: (v) => (v == null ? \"\" : `${v.toFixed(1)}%`),\n                    font: { size: 10 },\n                    color: theme.textSecondary,\n                },\n            },\n        },\n    };\n\n    // ---------- Comparison view data ----------\n    const {\n        loading: loadingB,\n        error: errorB,\n        combined: combinedB,\n        covidDaily: covidDailyB,\n    } = useCovidGdpApiData(compareCountry, covidSource);\n\n    const combinedBFiltered = useMemo(\n        () => applyDateRange(combinedB || [], dateRange),\n        [combinedB, dateRange]\n    );\n\n    const latestB = useMemo(() => {\n        if (!covidDailyB || covidDailyB.length === 0) return null;\n        return covidDailyB[covidDailyB.length - 1];\n    }, [covidDailyB]);\n\n    const latestGdpB = useMemo(() => {\n        if (!combinedB || combinedB.length === 0) return null;\n        const lastWithGdp = [...combinedB]\n            .reverse()\n            .find((d) => d.gdpGrowth != null);\n        return lastWithGdp || null;\n    }, [combinedB]);\n\n    const labelsCompare = combinedAFiltered.map((d) => d.date);\n    const mapB = new Map(combinedBFiltered.map((d) => [d.date, d]));\n\n    const casesACompare = combinedAFiltered.map((d) => d.newCases);\n    const casesBCompare = labelsCompare.map((date) => {\n        const row = mapB.get(date);\n        return row ? row.newCases : null;\n    });\n\n    const gdpACompare = combinedAFiltered.map((d) => d.gdpGrowth);\n    const gdpBCompare = labelsCompare.map((date) => {\n        const row = mapB.get(date);\n        return row ? row.gdpGrowth : null;\n    });\n\n    const timeSeriesDataCompare = {\n        labels: labelsCompare,\n        datasets: [\n            {\n                label: `New cases (${selectedCountry})`,\n                data: casesACompare,\n                borderColor: \"#1976d2\",\n                backgroundColor: \"rgba(25, 118, 210, 0.15)\",\n                borderWidth: 1.5,\n                pointRadius: 0,\n                tension: 0.25,\n                yAxisID: \"yCases\",\n            },\n            {\n                label: `New cases (${compareCountry})`,\n                data: casesBCompare,\n                borderColor: \"#ff9800\",\n                backgroundColor: \"rgba(255, 152, 0, 0.12)\",\n                borderWidth: 1.5,\n                pointRadius: 0,\n                tension: 0.25,\n                yAxisID: \"yCases\",\n            },\n            {\n                label: `GDP growth (%) (${selectedCountry})`,\n                data: gdpACompare,\n                borderColor: \"#388e3c\",\n                backgroundColor: \"rgba(56, 142, 60, 0.15)\",\n                borderWidth: 1.5,\n                pointRadius: 0,\n                tension: 0.25,\n                yAxisID: \"yGdp\",\n            },\n            {\n                label: `GDP growth (%) (${compareCountry})`,\n                data: gdpBCompare,\n                borderColor: \"#9c27b0\",\n                backgroundColor: \"rgba(156, 39, 176, 0.15)\",\n                borderWidth: 1.5,\n                pointRadius: 0,\n                tension: 0.25,\n                yAxisID: \"yGdp\",\n            },\n        ],\n    };\n\n    const timeSeriesOptionsCompare = {\n        responsive: true,\n        maintainAspectRatio: false,\n        interaction: { mode: \"index\", intersect: false },\n        plugins: {\n            legend: {\n                position: \"top\",\n                labels: { font: { size: 11 }, color: theme.textPrimary },\n            },\n            title: {\n                display: true,\n                text: \"Country comparison: COVID-19 & GDP\",\n                font: { size: 14 },\n                color: theme.textPrimary,\n            },\n            tooltip: {\n                callbacks: {\n                    label: function (ctx) {\n                        const label = ctx.dataset.label || \"\";\n                        const value = ctx.raw;\n                        if (label.toLowerCase().includes(\"cases\")) {\n                            return `${label}: ${formatNumber(value)}`;\n                        }\n                        if (label.includes(\"GDP growth\")) {\n                            if (value == null) return `${label}: —`;\n                            return `${label}: ${value.toFixed(2)}%`;\n                        }\n                        return `${label}: ${value}`;\n                    },\n                },\n            },\n        },\n        scales: {\n            x: {\n                ticks: {\n                    maxTicksLimit: 10,\n                    font: { size: 10 },\n                    color: theme.textSecondary,\n                },\n                grid: { color: theme.border },\n            },\n            yCases: {\n                type: \"linear\",\n                position: \"left\",\n                title: {\n                    display: true,\n                    text: \"New cases\",\n                    color: theme.textSecondary,\n                },\n                ticks: {\n                    callback: (v) => formatNumber(v),\n                    font: { size: 10 },\n                    color: theme.textSecondary,\n                },\n                grid: { color: theme.border },\n            },\n            yGdp: {\n                type: \"linear\",\n                position: \"right\",\n                title: {\n                    display: true,\n                    text: \"GDP growth (%)\",\n                    color: theme.textSecondary,\n                },\n                grid: { drawOnChartArea: false, color: theme.border },\n                ticks: {\n                    callback: (v) => (v == null ? \"\" : `${v.toFixed(1)}%`),\n                    font: { size: 10 },\n                    color: theme.textSecondary,\n                },\n            },\n        },\n    };\n\n    const loading = viewMode === \"single\" ? loadingA : loadingA || loadingB;\n    const error = viewMode === \"single\" ? errorA : errorA || errorB;\n\n    return (\n        <main role=\"main\" className=\"dashboard-container\">\n            {/* Header */}\n            <header className=\"dashboard-header\">\n                <div>\n                    <h1 style={{ margin: 0 }}>COVID–GDP Dashboard</h1>\n                    <p\n                        style={{\n                            margin: \"4px 0\",\n                            color: theme.textSecondary,\n                            maxWidth: 520,\n                            fontSize: 14,\n                        }}\n                    >\n                        Visualizing how <strong>COVID-19</strong> affects{\" \"}\n                        <strong>economic activity (GDP growth)</strong> across\n                        various countries, using public datasets and a token-protected\n                        GDP API.\n                    </p>\n                    <p\n                        style={{\n                            margin: 0,\n                            fontSize: 13,\n                            color: theme.textMuted,\n                        }}\n                    >\n                        COVID source: {covidSourceLabel}\n                    </p>\n                </div>\n\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        alignItems: \"flex-end\",\n                        gap: 8,\n                    }}\n                >\n                    {/* COVID Source Toggle */}\n                    <div className=\"pill-toggle\" aria-label=\"COVID data source\">\n                        <span className=\"pill-toggle-label\">COVID data:</span>\n                        <button\n                            type=\"button\"\n                            onClick={() => setCovidSource(\"who\")}\n                            className={covidSource === \"who\" ? \"is-active\" : \"\"}\n                        >\n                            WHO\n                        </button>\n                        <button\n                            type=\"button\"\n                            onClick={() => setCovidSource(\"te\")}\n                            className={covidSource === \"te\" ? \"is-active\" : \"\"}\n                        >\n                            TE\n                        </button>\n                    </div>\n                </div>\n            </header>\n\n            {/* View mode toggle */}\n            <section className=\"section\" aria-label=\"View mode\">\n                <div className=\"pill-toggle\">\n                    <button\n                        type=\"button\"\n                        onClick={() => setViewMode(\"single\")}\n                        className={viewMode === \"single\" ? \"is-active\" : \"\"}\n                    >\n                        Single country\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setViewMode(\"compare\")}\n                        className={viewMode === \"compare\" ? \"is-active\" : \"\"}\n                    >\n                        Compare countries\n                    </button>\n                </div>\n            </section>\n\n            {/* Date range filter */}\n            <section className=\"section\" aria-label=\"Date range\">\n                <div className=\"pill-toggle\">\n                    <span className=\"pill-toggle-label\">Date range:</span>\n                    <button\n                        type=\"button\"\n                        onClick={() => setDateRange(\"30d\")}\n                        className={dateRange === \"30d\" ? \"is-active\" : \"\"}\n                    >\n                        30d\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setDateRange(\"90d\")}\n                        className={dateRange === \"90d\" ? \"is-active\" : \"\"}\n                    >\n                        90d\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setDateRange(\"1y\")}\n                        className={dateRange === \"1y\" ? \"is-active\" : \"\"}\n                    >\n                        1y\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setDateRange(\"max\")}\n                        className={dateRange === \"max\" ? \"is-active\" : \"\"}\n                    >\n                        Max\n                    </button>\n                </div>\n            </section>\n\n            {/* Country selection */}\n            <section className=\"section\" aria-label=\"Select country\">\n                <h2 className=\"section-title\">Select country</h2>\n\n                <div className=\"country-grid\">\n                    {COUNTRY_CONFIG.map((c) => {\n                        const active = c.key === selectedCountry;\n                        return (\n                            <button\n                                key={c.key}\n                                type=\"button\"\n                                onClick={() => setSelectedCountry(c.key)}\n                                className={`country-card ${\n                                    active ? \"is-active\" : \"\"\n                                }`}\n                            >\n                                <div style={{ fontWeight: 600 }}>{c.label}</div>\n                                <div className=\"country-card-code\">{c.key}</div>\n                            </button>\n                        );\n                    })}\n                </div>\n            </section>\n\n            {/* Compare country selection */}\n            {viewMode === \"compare\" && (\n                <section\n                    className=\"section\"\n                    aria-label=\"Compare with another country\"\n                >\n                    <h3 className=\"section-title\" style={{ fontSize: 16 }}>\n                        Compare with another country\n                    </h3>\n                    <div className=\"chip-row\">\n                        {COUNTRY_CONFIG.filter(\n                            (c) => c.key !== selectedCountry\n                        ).map((c) => {\n                            const active = c.key === compareCountry;\n                            return (\n                                <button\n                                    key={c.key}\n                                    type=\"button\"\n                                    onClick={() => setCompareCountry(c.key)}\n                                    className={`chip ${\n                                        active ? \"is-active\" : \"\"\n                                    }`}\n                                >\n                                    {c.label}\n                                </button>\n                            );\n                        })}\n                    </div>\n                </section>\n            )}\n\n            {/* Loading / Error */}\n            {loading && (\n                <>\n                    <div className=\"loading-text\">Loading data…</div>\n                    <section\n                        className=\"section summary-grid\"\n                        aria-hidden=\"true\"\n                    >\n                        <div className=\"card skeleton-card\" />\n                        <div className=\"card skeleton-card\" />\n                        <div className=\"card skeleton-card\" />\n                        <div className=\"card skeleton-card\" />\n                    </section>\n                    <section className=\"chart-card section\" aria-hidden=\"true\">\n                        <div className=\"skeleton-chart\" />\n                    </section>\n                </>\n            )}\n\n            {error && !loading && (\n                <div className=\"error-text\">\n                    Error loading data: {error.message}\n                </div>\n            )}\n\n            {/* SINGLE VIEW */}\n            {!loading && !error && viewMode === \"single\" && (\n                <>\n                    {/* Summary cards */}\n                    <section\n                        className=\"section summary-grid\"\n                        aria-label=\"Key metrics\"\n                    >\n                        <SummaryCard\n                            theme={theme}\n                            title=\"Latest new cases\"\n                            value={\n                                latestA ? formatNumber(latestA.newCases) : \"—\"\n                            }\n                            subtitle={`Source: ${\n                                covidSource === \"who\" ? \"WHO / Pomber\" : \"TE\"\n                            }`}\n                            trend={casesTrend}\n                            trendLabel=\"7-day trend\"\n                        />\n                        <SummaryCard\n                            theme={theme}\n                            title=\"Total confirmed\"\n                            value={\n                                latestA ? formatNumber(latestA.confirmed) : \"—\"\n                            }\n                        />\n                        <SummaryCard\n                            theme={theme}\n                            title=\"Total deaths\"\n                            value={\n                                latestA && latestA.deaths != null\n                                    ? formatNumber(latestA.deaths)\n                                    : \"—\"\n                            }\n                        />\n                        <SummaryCard\n                            theme={theme}\n                            title=\"Latest GDP growth\"\n                            value={\n                                latestGdpA && latestGdpA.gdpGrowth != null\n                                    ? `${latestGdpA.gdpGrowth.toFixed(1)}%`\n                                    : \"—\"\n                            }\n                            subtitle=\"GDP: World Bank + TradingEconomics (token)\"\n                            trend={gdpTrend}\n                            trendLabel=\"Recent trend\"\n                        />\n                    </section>\n\n                    {/* Rolling toggle */}\n                    <section className=\"rolling-toggle\">\n                        <button\n                            type=\"button\"\n                            onClick={() => setShowRolling((v) => !v)}\n                        >\n                            {showRolling\n                                ? \"Show daily values\"\n                                : \"Show 7-day averages\"}\n                        </button>\n                    </section>\n\n                    {/* Time-series chart */}\n                    <section className=\"chart-card section\">\n                        <h2 className=\"section-title\">\n                            COVID vs GDP over time\n                        </h2>\n                        <p className=\"section-subtitle\">\n                            Left axis: new COVID cases per day. Right axis: GDP\n                            growth (%). Use the date range filter above to zoom\n                            in on recent periods, similar to stock dashboards.\n                        </p>\n                        <figure aria-label=\"Line chart showing COVID cases and GDP growth over time for the selected country.\">\n                            <div className=\"chart-container\">\n                                <Line\n                                    data={timeSeriesDataSingle}\n                                    options={timeSeriesOptionsSingle}\n                                />\n                            </div>\n                            <figcaption\n                                style={{\n                                    fontSize: 11,\n                                    color: \"#555\",\n                                    marginTop: 4,\n                                }}\n                            >\n                                Visual summary of the joined COVID–GDP dataset\n                                shown in the table below.\n                            </figcaption>\n                        </figure>\n                    </section>\n\n                    {/* Data preview + CSV export */}\n                    <DataPreviewTable\n                        theme={theme}\n                        combined={combinedAFiltered}\n                        title=\"Sample of joined data\"\n                    />\n                </>\n            )}\n\n            {/* COMPARE VIEW */}\n            {!loading && !error && viewMode === \"compare\" && (\n                <>\n                    {/* Summary cards */}\n                    <section\n                        className=\"section summary-grid\"\n                        aria-label=\"Key metrics (comparison)\"\n                    >\n                        <SummaryCard\n                            theme={theme}\n                            title={`Latest new cases (${selectedCountry})`}\n                            value={\n                                latestA ? formatNumber(latestA.newCases) : \"—\"\n                            }\n                            subtitle={`Confirmed: ${\n                                latestA ? formatNumber(latestA.confirmed) : \"—\"\n                            }`}\n                        />\n                        <SummaryCard\n                            theme={theme}\n                            title={`Latest new cases (${compareCountry})`}\n                            value={\n                                latestB ? formatNumber(latestB.newCases) : \"—\"\n                            }\n                            subtitle={`Confirmed: ${\n                                latestB ? formatNumber(latestB.confirmed) : \"—\"\n                            }`}\n                        />\n                        <SummaryCard\n                            theme={theme}\n                            title={`Latest GDP growth (${selectedCountry})`}\n                            value={\n                                latestGdpA && latestGdpA.gdpGrowth != null\n                                    ? `${latestGdpA.gdpGrowth.toFixed(1)}%`\n                                    : \"—\"\n                            }\n                        />\n                        <SummaryCard\n                            theme={theme}\n                            title={`Latest GDP growth (${compareCountry})`}\n                            value={\n                                latestGdpB && latestGdpB.gdpGrowth != null\n                                    ? `${latestGdpB.gdpGrowth.toFixed(1)}%`\n                                    : \"—\"\n                            }\n                        />\n                    </section>\n\n                    {/* Comparison chart */}\n                    <section className=\"chart-card section\">\n                        <h2 className=\"section-title\">\n                            Country comparison: COVID & GDP\n                        </h2>\n                        <p className=\"section-subtitle\">\n                            Compare daily new cases and GDP growth between two\n                            countries. Differences in policy, timing, and\n                            vaccine rollout often show up as different shapes in\n                            these curves.\n                        </p>\n                        <figure aria-label=\"Line chart comparing COVID cases and GDP growth between two countries.\">\n                            <div className=\"chart-container\">\n                                <Line\n                                    data={timeSeriesDataCompare}\n                                    options={timeSeriesOptionsCompare}\n                                />\n                            </div>\n                            <figcaption\n                                style={{\n                                    fontSize: 11,\n                                    color: \"#555\",\n                                    marginTop: 4,\n                                }}\n                            >\n                                Both countries are shown on the same date axis\n                                for direct comparison.\n                            </figcaption>\n                        </figure>\n                    </section>\n\n                    {/* Data preview */}\n                    <DataPreviewTable\n                        theme={theme}\n                        combined={combinedAFiltered}\n                        title={`Sample data (${selectedCountry})`}\n                    />\n                </>\n            )}\n\n            {/* Footer */}\n            <footer className=\"app-footer\">\n                <div>\n                    Data sources: WHO, World Bank, TradingEconomics\n                    (token-protected GDP API).\n                </div>\n                <div>\n                    Built for CS564 Front-End Final Project &mdash;{\" \"}\n                    {new Date().getFullYear()}\n                </div>\n            </footer>\n        </main>\n    );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}