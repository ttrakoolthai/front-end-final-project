{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useCovidGdpApiData.js\nimport { useEffect, useState } from \"react\";\n\n// Map dashboard key → pomber COVID label\nconst COVID_COUNTRY_MAP = {\n  US: \"US\",\n  DE: \"Germany\",\n  IT: \"Italy\",\n  JP: \"Japan\",\n  CA: \"Canada\",\n  FR: \"France\",\n  SE: \"Sweden\",\n  MX: \"Mexico\",\n  NZ: \"New Zealand\",\n  TH: \"Thailand\"\n};\n\n// Which GDP source to use for each country\nconst GDP_SOURCE = {\n  US: \"worldbank\",\n  DE: \"worldbank\",\n  IT: \"worldbank\",\n  JP: \"worldbank\",\n  CA: \"worldbank\",\n  FR: \"worldbank\",\n  SE: \"tradingeconomics\",\n  MX: \"tradingeconomics\",\n  NZ: \"tradingeconomics\",\n  TH: \"tradingeconomics\"\n};\n\n// World Bank country codes (ISO3, as required by their API)\nconst WB_COUNTRY_MAP = {\n  US: \"USA\",\n  DE: \"DEU\",\n  IT: \"ITA\",\n  JP: \"JPN\",\n  CA: \"CAN\",\n  FR: \"FRA\",\n  SE: \"SWE\",\n  MX: \"MEX\",\n  NZ: \"NZL\",\n  TH: \"THA\"\n};\n\n// TradingEconomics country names (for the URL)\nconst TE_COUNTRY_MAP = {\n  SE: \"sweden\",\n  MX: \"mexico\",\n  NZ: \"new zealand\",\n  TH: \"thailand\"\n};\n\n// Helper: compute growth % series from value series (for TE)\nfunction computeGrowthSeries(values) {\n  return values.map((point, idx, arr) => {\n    if (idx === 0) {\n      return {\n        ...point,\n        growth: null\n      };\n    }\n    const prev = arr[idx - 1].value;\n    const growth = prev === 0 || prev == null ? null : (point.value - prev) / prev * 100;\n    return {\n      ...point,\n      growth\n    };\n  });\n}\n\n/**\n * Hook: fetch COVID daily data + GDP data (WB OR TE) and join by date\n */\nexport function useCovidGdpApiData(countryKey) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [covidDaily, setCovidDaily] = useState([]);\n  const [gdpSeries, setGdpSeries] = useState([]);\n  const [combined, setCombined] = useState([]);\n  const covidKey = COVID_COUNTRY_MAP[countryKey] || countryKey;\n  const gdpSource = GDP_SOURCE[countryKey] || \"worldbank\";\n  const wbCode = WB_COUNTRY_MAP[countryKey] || \"USA\";\n  const teCountry = TE_COUNTRY_MAP[countryKey];\n  const teApiKey = process.env.REACT_APP_TE_API_KEY;\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      try {\n        //\n        // 1. COVID daily data from pomber\n        //\n        const covidRes = await fetch(\"https://pomber.github.io/covid19/timeseries.json\");\n        if (!covidRes.ok) {\n          throw new Error(\"COVID API request failed\");\n        }\n        const covidJson = await covidRes.json();\n        const series = covidJson[covidKey];\n        if (!series) {\n          throw new Error(`No COVID data for country: ${covidKey}`);\n        }\n        const covidWithNew = series.map((row, idx) => {\n          const prevConfirmed = idx > 0 ? series[idx - 1].confirmed : 0;\n          const newCases = row.confirmed - prevConfirmed;\n          return {\n            date: row.date,\n            confirmed: row.confirmed,\n            deaths: row.deaths,\n            recovered: row.recovered,\n            newCases: newCases < 0 ? 0 : newCases\n          };\n        });\n\n        //\n        // 2. GDP data\n        //\n        let gdpWithGrowth = [];\n        if (gdpSource === \"tradingeconomics\") {\n          // TradingEconomics path – only for SE, MX, NZ, TH\n          if (!teApiKey) {\n            throw new Error(\"Missing REACT_APP_TE_API_KEY in .env for TradingEconomics\");\n          }\n          if (!teCountry) {\n            throw new Error(`No TradingEconomics mapping for country: ${countryKey}`);\n          }\n          const teBase = \"https://api.tradingeconomics.com\";\n          const teUrl = `${teBase}/historical/country/${encodeURIComponent(teCountry)}/indicator/gdp?c=${encodeURIComponent(teApiKey)}`;\n          const gdpRes = await fetch(teUrl);\n          if (!gdpRes.ok) {\n            const text = await gdpRes.text();\n            throw new Error(`TradingEconomics GDP request failed (${gdpRes.status}): ${text || \"no body\"}`);\n          }\n          const teData = await gdpRes.json();\n          const gdpRaw = Array.isArray(teData) ? teData : [];\n          const gdpValues = gdpRaw.filter(row => row.Value != null).map(row => ({\n            date: row.Date ? row.Date.substring(0, 10) : null,\n            // YYYY-MM-DD\n            value: Number(row.Value)\n          })).filter(row => row.date != null);\n          gdpValues.sort((a, b) => a.date < b.date ? -1 : a.date > b.date ? 1 : 0);\n          gdpWithGrowth = computeGrowthSeries(gdpValues);\n        } else {\n          // World Bank path – for US, DE, IT, JP, CA, FR (and any default)\n          //\n          // Indicator: NY.GDP.MKTP.KD.ZG = GDP growth (annual %)\n          // API format: https://api.worldbank.org/v2/country/{code}/indicator/{indicator}?format=json\n          const wbUrl = `https://api.worldbank.org/v2/country/${wbCode}/indicator/NY.GDP.MKTP.KD.ZG?format=json&per_page=100`;\n          const wbRes = await fetch(wbUrl);\n          if (!wbRes.ok) {\n            const text = await wbRes.text();\n            throw new Error(`World Bank GDP request failed (${wbRes.status}): ${text || \"no body\"}`);\n          }\n          const wbJson = await wbRes.json();\n          const dataArray = Array.isArray(wbJson) && Array.isArray(wbJson[1]) ? wbJson[1] : [];\n          const gdpValues = dataArray.filter(row => row.value != null && row.date).map(row => ({\n            // Convert year \"2020\" → \"2020-12-31\" so it lines up with daily dates\n            date: `${row.date}-12-31`,\n            value: Number(row.value),\n            growth: Number(row.value) // already in percent\n          }));\n          gdpValues.sort((a, b) => a.date < b.date ? -1 : a.date > b.date ? 1 : 0);\n          gdpWithGrowth = gdpValues;\n        }\n\n        //\n        // 3. Join GDP growth onto each daily COVID date (step-like)\n        //\n        let j = 0;\n        const joined = covidWithNew.map(day => {\n          const dayDate = day.date;\n          while (j + 1 < gdpWithGrowth.length && gdpWithGrowth[j + 1].date <= dayDate) {\n            j++;\n          }\n          const gdpForDay = gdpWithGrowth[j] || null;\n          return {\n            date: day.date,\n            newCases: day.newCases,\n            confirmed: day.confirmed,\n            deaths: day.deaths,\n            gdpGrowth: gdpForDay ? gdpForDay.growth : null\n          };\n        });\n        setCovidDaily(covidWithNew);\n        setGdpSeries(gdpWithGrowth);\n        setCombined(joined);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"useCovidGdpApiData error:\", err);\n        setError(err);\n        setLoading(false);\n      }\n    }\n    if (countryKey) {\n      fetchData();\n    }\n  }, [countryKey, covidKey, gdpSource, wbCode, teCountry, teApiKey]);\n  return {\n    loading,\n    error,\n    covidDaily,\n    gdpSeries,\n    combined\n  };\n}\n_s(useCovidGdpApiData, \"QSABJevVDZQIcSWzB2W5w0ZfyAM=\");","map":{"version":3,"names":["useEffect","useState","COVID_COUNTRY_MAP","US","DE","IT","JP","CA","FR","SE","MX","NZ","TH","GDP_SOURCE","WB_COUNTRY_MAP","TE_COUNTRY_MAP","computeGrowthSeries","values","map","point","idx","arr","growth","prev","value","useCovidGdpApiData","countryKey","_s","loading","setLoading","error","setError","covidDaily","setCovidDaily","gdpSeries","setGdpSeries","combined","setCombined","covidKey","gdpSource","wbCode","teCountry","teApiKey","process","env","REACT_APP_TE_API_KEY","fetchData","covidRes","fetch","ok","Error","covidJson","json","series","covidWithNew","row","prevConfirmed","confirmed","newCases","date","deaths","recovered","gdpWithGrowth","teBase","teUrl","encodeURIComponent","gdpRes","text","status","teData","gdpRaw","Array","isArray","gdpValues","filter","Value","Date","substring","Number","sort","a","b","wbUrl","wbRes","wbJson","dataArray","j","joined","day","dayDate","length","gdpForDay","gdpGrowth","err","console"],"sources":["/Users/trakoolthai/Desktop/front-end-final-project/src/hooks/useCovidGdpApiData.js"],"sourcesContent":["// src/hooks/useCovidGdpApiData.js\nimport { useEffect, useState } from \"react\";\n\n// Map dashboard key → pomber COVID label\nconst COVID_COUNTRY_MAP = {\n    US: \"US\",\n    DE: \"Germany\",\n    IT: \"Italy\",\n    JP: \"Japan\",\n    CA: \"Canada\",\n    FR: \"France\",\n    SE: \"Sweden\",\n    MX: \"Mexico\",\n    NZ: \"New Zealand\",\n    TH: \"Thailand\",\n};\n\n// Which GDP source to use for each country\nconst GDP_SOURCE = {\n    US: \"worldbank\",\n    DE: \"worldbank\",\n    IT: \"worldbank\",\n    JP: \"worldbank\",\n    CA: \"worldbank\",\n    FR: \"worldbank\",\n\n    SE: \"tradingeconomics\",\n    MX: \"tradingeconomics\",\n    NZ: \"tradingeconomics\",\n    TH: \"tradingeconomics\",\n};\n\n// World Bank country codes (ISO3, as required by their API)\nconst WB_COUNTRY_MAP = {\n    US: \"USA\",\n    DE: \"DEU\",\n    IT: \"ITA\",\n    JP: \"JPN\",\n    CA: \"CAN\",\n    FR: \"FRA\",\n    SE: \"SWE\",\n    MX: \"MEX\",\n    NZ: \"NZL\",\n    TH: \"THA\",\n};\n\n// TradingEconomics country names (for the URL)\nconst TE_COUNTRY_MAP = {\n    SE: \"sweden\",\n    MX: \"mexico\",\n    NZ: \"new zealand\",\n    TH: \"thailand\",\n};\n\n// Helper: compute growth % series from value series (for TE)\nfunction computeGrowthSeries(values) {\n    return values.map((point, idx, arr) => {\n        if (idx === 0) {\n            return { ...point, growth: null };\n        }\n        const prev = arr[idx - 1].value;\n        const growth =\n            prev === 0 || prev == null\n                ? null\n                : ((point.value - prev) / prev) * 100;\n        return { ...point, growth };\n    });\n}\n\n/**\n * Hook: fetch COVID daily data + GDP data (WB OR TE) and join by date\n */\nexport function useCovidGdpApiData(countryKey) {\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const [covidDaily, setCovidDaily] = useState([]);\n    const [gdpSeries, setGdpSeries] = useState([]);\n    const [combined, setCombined] = useState([]);\n\n    const covidKey = COVID_COUNTRY_MAP[countryKey] || countryKey;\n    const gdpSource = GDP_SOURCE[countryKey] || \"worldbank\";\n    const wbCode = WB_COUNTRY_MAP[countryKey] || \"USA\";\n    const teCountry = TE_COUNTRY_MAP[countryKey];\n    const teApiKey = process.env.REACT_APP_TE_API_KEY;\n\n    useEffect(() => {\n        async function fetchData() {\n            setLoading(true);\n            setError(null);\n\n            try {\n                //\n                // 1. COVID daily data from pomber\n                //\n                const covidRes = await fetch(\n                    \"https://pomber.github.io/covid19/timeseries.json\"\n                );\n                if (!covidRes.ok) {\n                    throw new Error(\"COVID API request failed\");\n                }\n                const covidJson = await covidRes.json();\n                const series = covidJson[covidKey];\n                if (!series) {\n                    throw new Error(`No COVID data for country: ${covidKey}`);\n                }\n\n                const covidWithNew = series.map((row, idx) => {\n                    const prevConfirmed =\n                        idx > 0 ? series[idx - 1].confirmed : 0;\n                    const newCases = row.confirmed - prevConfirmed;\n                    return {\n                        date: row.date,\n                        confirmed: row.confirmed,\n                        deaths: row.deaths,\n                        recovered: row.recovered,\n                        newCases: newCases < 0 ? 0 : newCases,\n                    };\n                });\n\n                //\n                // 2. GDP data\n                //\n                let gdpWithGrowth = [];\n\n                if (gdpSource === \"tradingeconomics\") {\n                    // TradingEconomics path – only for SE, MX, NZ, TH\n                    if (!teApiKey) {\n                        throw new Error(\n                            \"Missing REACT_APP_TE_API_KEY in .env for TradingEconomics\"\n                        );\n                    }\n                    if (!teCountry) {\n                        throw new Error(\n                            `No TradingEconomics mapping for country: ${countryKey}`\n                        );\n                    }\n\n                    const teBase = \"https://api.tradingeconomics.com\";\n                    const teUrl = `${teBase}/historical/country/${encodeURIComponent(\n                        teCountry\n                    )}/indicator/gdp?c=${encodeURIComponent(teApiKey)}`;\n\n                    const gdpRes = await fetch(teUrl);\n                    if (!gdpRes.ok) {\n                        const text = await gdpRes.text();\n                        throw new Error(\n                            `TradingEconomics GDP request failed (${\n                                gdpRes.status\n                            }): ${text || \"no body\"}`\n                        );\n                    }\n\n                    const teData = await gdpRes.json();\n                    const gdpRaw = Array.isArray(teData) ? teData : [];\n\n                    const gdpValues = gdpRaw\n                        .filter((row) => row.Value != null)\n                        .map((row) => ({\n                            date: row.Date ? row.Date.substring(0, 10) : null, // YYYY-MM-DD\n                            value: Number(row.Value),\n                        }))\n                        .filter((row) => row.date != null);\n\n                    gdpValues.sort((a, b) =>\n                        a.date < b.date ? -1 : a.date > b.date ? 1 : 0\n                    );\n\n                    gdpWithGrowth = computeGrowthSeries(gdpValues);\n                } else {\n                    // World Bank path – for US, DE, IT, JP, CA, FR (and any default)\n                    //\n                    // Indicator: NY.GDP.MKTP.KD.ZG = GDP growth (annual %)\n                    // API format: https://api.worldbank.org/v2/country/{code}/indicator/{indicator}?format=json\n                    const wbUrl = `https://api.worldbank.org/v2/country/${wbCode}/indicator/NY.GDP.MKTP.KD.ZG?format=json&per_page=100`;\n                    const wbRes = await fetch(wbUrl);\n                    if (!wbRes.ok) {\n                        const text = await wbRes.text();\n                        throw new Error(\n                            `World Bank GDP request failed (${wbRes.status}): ${\n                                text || \"no body\"\n                            }`\n                        );\n                    }\n\n                    const wbJson = await wbRes.json();\n                    const dataArray =\n                        Array.isArray(wbJson) && Array.isArray(wbJson[1])\n                            ? wbJson[1]\n                            : [];\n\n                    const gdpValues = dataArray\n                        .filter((row) => row.value != null && row.date)\n                        .map((row) => ({\n                            // Convert year \"2020\" → \"2020-12-31\" so it lines up with daily dates\n                            date: `${row.date}-12-31`,\n                            value: Number(row.value),\n                            growth: Number(row.value), // already in percent\n                        }));\n\n                    gdpValues.sort((a, b) =>\n                        a.date < b.date ? -1 : a.date > b.date ? 1 : 0\n                    );\n\n                    gdpWithGrowth = gdpValues;\n                }\n\n                //\n                // 3. Join GDP growth onto each daily COVID date (step-like)\n                //\n                let j = 0;\n                const joined = covidWithNew.map((day) => {\n                    const dayDate = day.date;\n                    while (\n                        j + 1 < gdpWithGrowth.length &&\n                        gdpWithGrowth[j + 1].date <= dayDate\n                    ) {\n                        j++;\n                    }\n                    const gdpForDay = gdpWithGrowth[j] || null;\n\n                    return {\n                        date: day.date,\n                        newCases: day.newCases,\n                        confirmed: day.confirmed,\n                        deaths: day.deaths,\n                        gdpGrowth: gdpForDay ? gdpForDay.growth : null,\n                    };\n                });\n\n                setCovidDaily(covidWithNew);\n                setGdpSeries(gdpWithGrowth);\n                setCombined(joined);\n                setLoading(false);\n            } catch (err) {\n                console.error(\"useCovidGdpApiData error:\", err);\n                setError(err);\n                setLoading(false);\n            }\n        }\n\n        if (countryKey) {\n            fetchData();\n        }\n    }, [countryKey, covidKey, gdpSource, wbCode, teCountry, teApiKey]);\n\n    return { loading, error, covidDaily, gdpSeries, combined };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}