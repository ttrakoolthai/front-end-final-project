{"ast":null,"code":"var _jsxFileName = \"/Users/trakoolthai/Desktop/front-end-final-project/src/pages/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useCovidGdpApiData } from \"../hooks/useCovidGdpApiData\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Legend, Title } from \"chart.js\";\nimport { Line, Scatter } from \"react-chartjs-2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Legend, Title);\n\n// Countries available in both pomber + TradingEconomics maps\nconst COUNTRY_OPTIONS = [{\n  key: \"US\",\n  label: \"United States\"\n}, {\n  key: \"DE\",\n  label: \"Germany\"\n}, {\n  key: \"IT\",\n  label: \"Italy\"\n}, {\n  key: \"JP\",\n  label: \"Japan\"\n}, {\n  key: \"CA\",\n  label: \"Canada\"\n}, {\n  key: \"FR\",\n  label: \"France\"\n}];\n\n// Compute some summary metrics from the joined dataset\nfunction computeMetrics(combined) {\n  if (!combined || combined.length === 0) return null;\n  let peakCases = combined[0].newCases;\n  let peakCasesDate = combined[0].date;\n  let worstGdp = null;\n  let worstGdpDate = null;\n  combined.forEach(row => {\n    if (row.newCases > peakCases) {\n      peakCases = row.newCases;\n      peakCasesDate = row.date;\n    }\n    if (row.gdpGrowth != null) {\n      if (worstGdp == null || row.gdpGrowth < worstGdp) {\n        worstGdp = row.gdpGrowth;\n        worstGdpDate = row.date;\n      }\n    }\n  });\n\n  // correlation between new cases and GDP growth (only where GDP is not null)\n  let corr = null;\n  const valid = combined.filter(r => r.gdpGrowth != null && !Number.isNaN(r.gdpGrowth));\n  if (valid.length > 1) {\n    const xs = valid.map(r => r.newCases);\n    const ys = valid.map(r => r.gdpGrowth);\n    const n = xs.length;\n    const meanX = xs.reduce((a, b) => a + b, 0) / n;\n    const meanY = ys.reduce((a, b) => a + b, 0) / n;\n    let cov = 0;\n    let varX = 0;\n    let varY = 0;\n    for (let i = 0; i < n; i++) {\n      const dx = xs[i] - meanX;\n      const dy = ys[i] - meanY;\n      cov += dx * dy;\n      varX += dx * dx;\n      varY += dy * dy;\n    }\n    if (varX > 0 && varY > 0) {\n      corr = cov / Math.sqrt(varX * varY);\n    }\n  }\n  return {\n    peakCases,\n    peakCasesDate,\n    worstGdp,\n    worstGdpDate,\n    corr\n  };\n}\nfunction Dashboard() {\n  _s();\n  const [selectedCountryKey, setSelectedCountryKey] = useState(\"US\");\n  const selectedCountry = COUNTRY_OPTIONS.find(c => c.key === selectedCountryKey) || COUNTRY_OPTIONS[0];\n  const {\n    loading,\n    error,\n    combined,\n    covidDaily,\n    gdpSeries\n  } = useCovidGdpApiData(selectedCountryKey);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"page dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CountryCards, {\n        selectedKey: selectedCountryKey,\n        onSelect: setSelectedCountryKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading live COVID + GDP data\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"page dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CountryCards, {\n        selectedKey: selectedCountryKey,\n        onSelect: setSelectedCountryKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: [\"Error loading data: \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this);\n  }\n  if (!combined || combined.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"page dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CountryCards, {\n        selectedKey: selectedCountryKey,\n        onSelect: setSelectedCountryKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No matched COVID + GDP data for this country.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this);\n  }\n  const metrics = computeMetrics(combined);\n\n  // Prepare chart data\n  const labels = combined.map(row => row.date);\n  const newCases = combined.map(row => row.newCases);\n  const gdpGrowth = combined.map(row => row.gdpGrowth != null ? row.gdpGrowth : null);\n  const timeSeriesData = {\n    labels,\n    datasets: [{\n      label: \"New COVID-19 cases (daily)\",\n      data: newCases,\n      yAxisID: \"yCases\",\n      tension: 0.25,\n      borderColor: \"#d9534f\",\n      pointRadius: 0\n    }, {\n      label: \"GDP growth (%)\",\n      data: gdpGrowth,\n      yAxisID: \"yGdp\",\n      tension: 0.25,\n      borderColor: \"#0275d8\",\n      pointRadius: 0\n    }]\n  };\n  const timeSeriesOptions = {\n    responsive: true,\n    interaction: {\n      mode: \"index\",\n      intersect: false\n    },\n    plugins: {\n      legend: {\n        position: \"top\"\n      },\n      title: {\n        display: true,\n        text: `${selectedCountry.label}: COVID-19 vs GDP growth (TradingEconomics)`\n      }\n    },\n    scales: {\n      x: {\n        ticks: {\n          maxTicksLimit: 10\n        }\n      },\n      yCases: {\n        type: \"linear\",\n        position: \"left\",\n        title: {\n          display: true,\n          text: \"New cases (daily)\"\n        }\n      },\n      yGdp: {\n        type: \"linear\",\n        position: \"right\",\n        title: {\n          display: true,\n          text: \"GDP growth (%)\"\n        },\n        grid: {\n          drawOnChartArea: false\n        }\n      }\n    }\n  };\n  const phaseData = {\n    datasets: [{\n      label: \"GDP growth vs new cases\",\n      data: combined.filter(r => r.gdpGrowth != null).map(r => ({\n        x: r.gdpGrowth,\n        y: r.newCases\n      })),\n      pointRadius: 3,\n      backgroundColor: \"#5bc0de\"\n    }]\n  };\n  const phaseOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: \"top\"\n      },\n      title: {\n        display: true,\n        text: `Scatter: GDP growth vs COVID-19 cases (${selectedCountry.label})`\n      }\n    },\n    scales: {\n      x: {\n        title: {\n          display: true,\n          text: \"GDP growth (%)\"\n        }\n      },\n      y: {\n        title: {\n          display: true,\n          text: \"New COVID-19 cases (daily)\"\n        }\n      }\n    }\n  };\n  const previewRows = combined.slice(0, 30);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"page dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CountryCards, {\n      selectedKey: selectedCountryKey,\n      onSelect: setSelectedCountryKey\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SummaryCards, {\n      countryName: selectedCountry.label,\n      metrics: metrics,\n      totalCovidRecords: covidDaily.length,\n      totalGdpRecords: gdpSeries.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        marginTop: \"2rem\",\n        maxWidth: \"1000px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Line, {\n        data: timeSeriesData,\n        options: timeSeriesOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        marginTop: \"2rem\",\n        maxWidth: \"800px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Scatter, {\n        data: phaseData,\n        options: phaseOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        marginTop: \"2rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sample of joined data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"data-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"New Cases\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Total Confirmed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Total Deaths\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"GDP growth (%)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: previewRows.map(row => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.newCases.toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.confirmed.toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.deaths.toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.gdpGrowth != null ? row.gdpGrowth.toFixed(2) : \"—\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 37\n              }, this)]\n            }, row.date, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 9\n  }, this);\n}\n_s(Dashboard, \"Aeikv+m20LdrgCoarSEG6I08l34=\", false, function () {\n  return [useCovidGdpApiData];\n});\n_c = Dashboard;\nfunction Header() {\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"COVID-19 & Economic Activity Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"COVID-19 daily cases from\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://pomber.github.io/covid19/timeseries.json\",\n        children: \"pomber / WHO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this), \" \", \"and GDP data from\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://developer.tradingeconomics.com/\",\n        children: \"TradingEconomics API\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }, this), \" \", \"(accessed with an API key).\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Header;\nfunction CountryCards({\n  selectedKey,\n  onSelect\n}) {\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"country-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Select a country\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"country-list\",\n      children: COUNTRY_OPTIONS.map(c => {\n        const active = c.key === selectedKey;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onSelect(c.key),\n          className: active ? \"country-card active\" : \"country-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: c.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"country-sub\",\n            children: active ? \"Selected\" : \"Click to view\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 29\n          }, this)]\n        }, c.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 9\n  }, this);\n}\n_c3 = CountryCards;\nfunction SummaryCards({\n  countryName,\n  metrics,\n  totalCovidRecords,\n  totalGdpRecords\n}) {\n  if (!metrics) return null;\n  const {\n    peakCases,\n    peakCasesDate,\n    worstGdp,\n    worstGdpDate,\n    corr\n  } = metrics;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"summary-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Summary metrics \\u2013 \", countryName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Peak new cases\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: peakCases.toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"summary-sub\",\n          children: [\"on \", peakCasesDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Worst GDP period\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [worstGdp != null ? worstGdp.toFixed(2) : \"—\", \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"summary-sub\",\n          children: worstGdpDate ? `around ${worstGdpDate}` : \"no data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Cases\\u2013GDP correlation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: corr != null ? corr.toFixed(2) : \"N/A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"summary-sub\",\n          children: [totalCovidRecords, \" COVID points, \", totalGdpRecords, \" GDP points\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 351,\n    columnNumber: 9\n  }, this);\n}\n_c4 = SummaryCards;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"CountryCards\");\n$RefreshReg$(_c4, \"SummaryCards\");","map":{"version":3,"names":["React","useState","useCovidGdpApiData","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Legend","Title","Line","Scatter","jsxDEV","_jsxDEV","register","COUNTRY_OPTIONS","key","label","computeMetrics","combined","length","peakCases","newCases","peakCasesDate","date","worstGdp","worstGdpDate","forEach","row","gdpGrowth","corr","valid","filter","r","Number","isNaN","xs","map","ys","n","meanX","reduce","a","b","meanY","cov","varX","varY","i","dx","dy","Math","sqrt","Dashboard","_s","selectedCountryKey","setSelectedCountryKey","selectedCountry","find","c","loading","error","covidDaily","gdpSeries","className","children","Header","fileName","_jsxFileName","lineNumber","columnNumber","CountryCards","selectedKey","onSelect","style","color","message","metrics","labels","timeSeriesData","datasets","data","yAxisID","tension","borderColor","pointRadius","timeSeriesOptions","responsive","interaction","mode","intersect","plugins","legend","position","title","display","text","scales","x","ticks","maxTicksLimit","yCases","type","yGdp","grid","drawOnChartArea","phaseData","y","backgroundColor","phaseOptions","previewRows","slice","SummaryCards","countryName","totalCovidRecords","totalGdpRecords","marginTop","maxWidth","options","toLocaleString","confirmed","deaths","toFixed","_c","href","_c2","active","onClick","_c3","_c4","$RefreshReg$"],"sources":["/Users/trakoolthai/Desktop/front-end-final-project/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useCovidGdpApiData } from \"../hooks/useCovidGdpApiData\";\n\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Tooltip,\n    Legend,\n    Title,\n} from \"chart.js\";\nimport { Line, Scatter } from \"react-chartjs-2\";\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Tooltip,\n    Legend,\n    Title\n);\n\n// Countries available in both pomber + TradingEconomics maps\nconst COUNTRY_OPTIONS = [\n    { key: \"US\", label: \"United States\" },\n    { key: \"DE\", label: \"Germany\" },\n    { key: \"IT\", label: \"Italy\" },\n    { key: \"JP\", label: \"Japan\" },\n    { key: \"CA\", label: \"Canada\" },\n    { key: \"FR\", label: \"France\" },\n];\n\n// Compute some summary metrics from the joined dataset\nfunction computeMetrics(combined) {\n    if (!combined || combined.length === 0) return null;\n\n    let peakCases = combined[0].newCases;\n    let peakCasesDate = combined[0].date;\n\n    let worstGdp = null;\n    let worstGdpDate = null;\n\n    combined.forEach((row) => {\n        if (row.newCases > peakCases) {\n            peakCases = row.newCases;\n            peakCasesDate = row.date;\n        }\n        if (row.gdpGrowth != null) {\n            if (worstGdp == null || row.gdpGrowth < worstGdp) {\n                worstGdp = row.gdpGrowth;\n                worstGdpDate = row.date;\n            }\n        }\n    });\n\n    // correlation between new cases and GDP growth (only where GDP is not null)\n    let corr = null;\n    const valid = combined.filter(\n        (r) => r.gdpGrowth != null && !Number.isNaN(r.gdpGrowth)\n    );\n    if (valid.length > 1) {\n        const xs = valid.map((r) => r.newCases);\n        const ys = valid.map((r) => r.gdpGrowth);\n\n        const n = xs.length;\n        const meanX = xs.reduce((a, b) => a + b, 0) / n;\n        const meanY = ys.reduce((a, b) => a + b, 0) / n;\n\n        let cov = 0;\n        let varX = 0;\n        let varY = 0;\n\n        for (let i = 0; i < n; i++) {\n            const dx = xs[i] - meanX;\n            const dy = ys[i] - meanY;\n            cov += dx * dy;\n            varX += dx * dx;\n            varY += dy * dy;\n        }\n\n        if (varX > 0 && varY > 0) {\n            corr = cov / Math.sqrt(varX * varY);\n        }\n    }\n\n    return { peakCases, peakCasesDate, worstGdp, worstGdpDate, corr };\n}\n\nfunction Dashboard() {\n    const [selectedCountryKey, setSelectedCountryKey] = useState(\"US\");\n\n    const selectedCountry =\n        COUNTRY_OPTIONS.find((c) => c.key === selectedCountryKey) ||\n        COUNTRY_OPTIONS[0];\n\n    const { loading, error, combined, covidDaily, gdpSeries } =\n        useCovidGdpApiData(selectedCountryKey);\n\n    if (loading) {\n        return (\n            <main className=\"page dashboard\">\n                <Header />\n                <CountryCards\n                    selectedKey={selectedCountryKey}\n                    onSelect={setSelectedCountryKey}\n                />\n                <p>Loading live COVID + GDP data…</p>\n            </main>\n        );\n    }\n\n    if (error) {\n        return (\n            <main className=\"page dashboard\">\n                <Header />\n                <CountryCards\n                    selectedKey={selectedCountryKey}\n                    onSelect={setSelectedCountryKey}\n                />\n                <p style={{ color: \"red\" }}>\n                    Error loading data: {error.message}\n                </p>\n            </main>\n        );\n    }\n\n    if (!combined || combined.length === 0) {\n        return (\n            <main className=\"page dashboard\">\n                <Header />\n                <CountryCards\n                    selectedKey={selectedCountryKey}\n                    onSelect={setSelectedCountryKey}\n                />\n                <p>No matched COVID + GDP data for this country.</p>\n            </main>\n        );\n    }\n\n    const metrics = computeMetrics(combined);\n\n    // Prepare chart data\n    const labels = combined.map((row) => row.date);\n    const newCases = combined.map((row) => row.newCases);\n    const gdpGrowth = combined.map((row) =>\n        row.gdpGrowth != null ? row.gdpGrowth : null\n    );\n\n    const timeSeriesData = {\n        labels,\n        datasets: [\n            {\n                label: \"New COVID-19 cases (daily)\",\n                data: newCases,\n                yAxisID: \"yCases\",\n                tension: 0.25,\n                borderColor: \"#d9534f\",\n                pointRadius: 0,\n            },\n            {\n                label: \"GDP growth (%)\",\n                data: gdpGrowth,\n                yAxisID: \"yGdp\",\n                tension: 0.25,\n                borderColor: \"#0275d8\",\n                pointRadius: 0,\n            },\n        ],\n    };\n\n    const timeSeriesOptions = {\n        responsive: true,\n        interaction: { mode: \"index\", intersect: false },\n        plugins: {\n            legend: { position: \"top\" },\n            title: {\n                display: true,\n                text: `${selectedCountry.label}: COVID-19 vs GDP growth (TradingEconomics)`,\n            },\n        },\n        scales: {\n            x: {\n                ticks: { maxTicksLimit: 10 },\n            },\n            yCases: {\n                type: \"linear\",\n                position: \"left\",\n                title: { display: true, text: \"New cases (daily)\" },\n            },\n            yGdp: {\n                type: \"linear\",\n                position: \"right\",\n                title: { display: true, text: \"GDP growth (%)\" },\n                grid: { drawOnChartArea: false },\n            },\n        },\n    };\n\n    const phaseData = {\n        datasets: [\n            {\n                label: \"GDP growth vs new cases\",\n                data: combined\n                    .filter((r) => r.gdpGrowth != null)\n                    .map((r) => ({\n                        x: r.gdpGrowth,\n                        y: r.newCases,\n                    })),\n                pointRadius: 3,\n                backgroundColor: \"#5bc0de\",\n            },\n        ],\n    };\n\n    const phaseOptions = {\n        responsive: true,\n        plugins: {\n            legend: { position: \"top\" },\n            title: {\n                display: true,\n                text: `Scatter: GDP growth vs COVID-19 cases (${selectedCountry.label})`,\n            },\n        },\n        scales: {\n            x: { title: { display: true, text: \"GDP growth (%)\" } },\n            y: { title: { display: true, text: \"New COVID-19 cases (daily)\" } },\n        },\n    };\n\n    const previewRows = combined.slice(0, 30);\n\n    return (\n        <main className=\"page dashboard\">\n            <Header />\n\n            <CountryCards\n                selectedKey={selectedCountryKey}\n                onSelect={setSelectedCountryKey}\n            />\n\n            <SummaryCards\n                countryName={selectedCountry.label}\n                metrics={metrics}\n                totalCovidRecords={covidDaily.length}\n                totalGdpRecords={gdpSeries.length}\n            />\n\n            <section style={{ marginTop: \"2rem\", maxWidth: \"1000px\" }}>\n                <Line data={timeSeriesData} options={timeSeriesOptions} />\n            </section>\n\n            <section style={{ marginTop: \"2rem\", maxWidth: \"800px\" }}>\n                <Scatter data={phaseData} options={phaseOptions} />\n            </section>\n\n            <section style={{ marginTop: \"2rem\" }}>\n                <h2>Sample of joined data</h2>\n                <div className=\"table-container\">\n                    <table className=\"data-table\">\n                        <thead>\n                            <tr>\n                                <th>Date</th>\n                                <th>New Cases</th>\n                                <th>Total Confirmed</th>\n                                <th>Total Deaths</th>\n                                <th>GDP growth (%)</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {previewRows.map((row) => (\n                                <tr key={row.date}>\n                                    <td>{row.date}</td>\n                                    <td>{row.newCases.toLocaleString()}</td>\n                                    <td>{row.confirmed.toLocaleString()}</td>\n                                    <td>{row.deaths.toLocaleString()}</td>\n                                    <td>\n                                        {row.gdpGrowth != null\n                                            ? row.gdpGrowth.toFixed(2)\n                                            : \"—\"}\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </section>\n        </main>\n    );\n}\n\nfunction Header() {\n    return (\n        <header>\n            <h1>COVID-19 & Economic Activity Dashboard</h1>\n            <p>\n                COVID-19 daily cases from{\" \"}\n                <a href=\"https://pomber.github.io/covid19/timeseries.json\">\n                    pomber / WHO\n                </a>{\" \"}\n                and GDP data from{\" \"}\n                <a href=\"https://developer.tradingeconomics.com/\">\n                    TradingEconomics API\n                </a>{\" \"}\n                (accessed with an API key).\n            </p>\n        </header>\n    );\n}\n\nfunction CountryCards({ selectedKey, onSelect }) {\n    return (\n        <section className=\"country-section\">\n            <h2>Select a country</h2>\n            <div className=\"country-list\">\n                {COUNTRY_OPTIONS.map((c) => {\n                    const active = c.key === selectedKey;\n                    return (\n                        <button\n                            key={c.key}\n                            onClick={() => onSelect(c.key)}\n                            className={\n                                active ? \"country-card active\" : \"country-card\"\n                            }\n                        >\n                            <strong>{c.label}</strong>\n                            <div className=\"country-sub\">\n                                {active ? \"Selected\" : \"Click to view\"}\n                            </div>\n                        </button>\n                    );\n                })}\n            </div>\n        </section>\n    );\n}\n\nfunction SummaryCards({\n    countryName,\n    metrics,\n    totalCovidRecords,\n    totalGdpRecords,\n}) {\n    if (!metrics) return null;\n\n    const { peakCases, peakCasesDate, worstGdp, worstGdpDate, corr } = metrics;\n\n    return (\n        <section className=\"summary-section\">\n            <h2>Summary metrics – {countryName}</h2>\n            <div className=\"summary-row\">\n                <div className=\"summary-card\">\n                    <h4>Peak new cases</h4>\n                    <p>{peakCases.toLocaleString()}</p>\n                    <p className=\"summary-sub\">on {peakCasesDate}</p>\n                </div>\n                <div className=\"summary-card\">\n                    <h4>Worst GDP period</h4>\n                    <p>{worstGdp != null ? worstGdp.toFixed(2) : \"—\"}%</p>\n                    <p className=\"summary-sub\">\n                        {worstGdpDate ? `around ${worstGdpDate}` : \"no data\"}\n                    </p>\n                </div>\n                <div className=\"summary-card\">\n                    <h4>Cases–GDP correlation</h4>\n                    <p>{corr != null ? corr.toFixed(2) : \"N/A\"}</p>\n                    <p className=\"summary-sub\">\n                        {totalCovidRecords} COVID points, {totalGdpRecords} GDP\n                        points\n                    </p>\n                </div>\n            </div>\n        </section>\n    );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}