{"ast":null,"code":"var _jsxFileName = \"/Users/trakoolthai/Desktop/front-end-final-project/src/components/DataPreviewTable.js\";\nimport React from \"react\";\nimport { formatNumber } from \"../utils/formatters\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DataPreviewTable({\n  theme,\n  combined,\n  title\n}) {\n  if (!combined || combined.length === 0) {\n    return null;\n  }\n  const sampleSize = 12;\n  const rows = combined.slice(-sampleSize).reverse(); // latest first\n\n  const handleDownloadCsv = () => {\n    if (!combined || combined.length === 0) return;\n    const headers = [\"date\", \"newCases\", \"confirmed\", \"deaths\", \"gdpGrowth\"];\n    const csvRows = [headers.join(\",\"), ...combined.map(row => {\n      var _row$newCases, _row$confirmed, _row$deaths, _row$gdpGrowth;\n      return [row.date, (_row$newCases = row.newCases) !== null && _row$newCases !== void 0 ? _row$newCases : \"\", (_row$confirmed = row.confirmed) !== null && _row$confirmed !== void 0 ? _row$confirmed : \"\", (_row$deaths = row.deaths) !== null && _row$deaths !== void 0 ? _row$deaths : \"\", (_row$gdpGrowth = row.gdpGrowth) !== null && _row$gdpGrowth !== void 0 ? _row$gdpGrowth : \"\"].join(\",\");\n    })];\n    const csvString = csvRows.join(\"\\n\");\n    const blob = new Blob([csvString], {\n      type: \"text/csv;charset=utf-8;\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    const safeTitle = (title || \"data\").toLowerCase().replace(/\\s+/g, \"_\").replace(/[^\\w\\-]+/g, \"\");\n    a.href = url;\n    a.download = `${safeTitle}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-table-header-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-table-title\",\n        children: title || \"Joined COVID–GDP data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"data-table-download-button\",\n        onClick: handleDownloadCsv,\n        children: \"\\u2B07 Download CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"section-subtitle\",\n      children: \"Joined dataset used for the chart above. This combines COVID-19 daily stats and GDP growth for the selected country on a shared date axis.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-table-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"data-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: \"left\",\n                background: theme.tableHeaderBg || \"#fafafa\"\n              },\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                background: theme.tableHeaderBg || \"#fafafa\"\n              },\n              children: \"New cases\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                background: theme.tableHeaderBg || \"#fafafa\"\n              },\n              children: \"Total cases\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                background: theme.tableHeaderBg || \"#fafafa\"\n              },\n              children: \"Total deaths\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                background: theme.tableHeaderBg || \"#fafafa\"\n              },\n              children: \"GDP growth (%)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rows.map(row => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                textAlign: \"left\",\n                color: theme.textPrimary\n              },\n              children: row.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.newCases != null ? formatNumber(row.newCases) : \"—\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.confirmed != null ? formatNumber(row.confirmed) : \"—\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.deaths != null ? formatNumber(row.deaths) : \"—\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.gdpGrowth != null ? row.gdpGrowth.toFixed(2) : \"—\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 33\n            }, this)]\n          }, row.date, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_c = DataPreviewTable;\nexport default DataPreviewTable;\nvar _c;\n$RefreshReg$(_c, \"DataPreviewTable\");","map":{"version":3,"names":["React","formatNumber","jsxDEV","_jsxDEV","DataPreviewTable","theme","combined","title","length","sampleSize","rows","slice","reverse","handleDownloadCsv","headers","csvRows","join","map","row","_row$newCases","_row$confirmed","_row$deaths","_row$gdpGrowth","date","newCases","confirmed","deaths","gdpGrowth","csvString","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","safeTitle","toLowerCase","replace","href","download","body","appendChild","click","removeChild","revokeObjectURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","textAlign","background","tableHeaderBg","color","textPrimary","toFixed","_c","$RefreshReg$"],"sources":["/Users/trakoolthai/Desktop/front-end-final-project/src/components/DataPreviewTable.js"],"sourcesContent":["import React from \"react\";\nimport { formatNumber } from \"../utils/formatters\";\n\nfunction DataPreviewTable({ theme, combined, title }) {\n    if (!combined || combined.length === 0) {\n        return null;\n    }\n\n    const sampleSize = 12;\n    const rows = combined.slice(-sampleSize).reverse(); // latest first\n\n    const handleDownloadCsv = () => {\n        if (!combined || combined.length === 0) return;\n\n        const headers = [\n            \"date\",\n            \"newCases\",\n            \"confirmed\",\n            \"deaths\",\n            \"gdpGrowth\",\n        ];\n        const csvRows = [\n            headers.join(\",\"),\n            ...combined.map((row) =>\n                [\n                    row.date,\n                    row.newCases ?? \"\",\n                    row.confirmed ?? \"\",\n                    row.deaths ?? \"\",\n                    row.gdpGrowth ?? \"\",\n                ].join(\",\")\n            ),\n        ];\n        const csvString = csvRows.join(\"\\n\");\n\n        const blob = new Blob([csvString], {\n            type: \"text/csv;charset=utf-8;\",\n        });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        const safeTitle = (title || \"data\")\n            .toLowerCase()\n            .replace(/\\s+/g, \"_\")\n            .replace(/[^\\w\\-]+/g, \"\");\n        a.href = url;\n        a.download = `${safeTitle}.csv`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n    };\n\n    return (\n        <section className=\"section\">\n            <div className=\"data-table-header-row\">\n                <div className=\"data-table-title\">\n                    {title || \"Joined COVID–GDP data\"}\n                </div>\n                <button\n                    type=\"button\"\n                    className=\"data-table-download-button\"\n                    onClick={handleDownloadCsv}\n                >\n                    ⬇ Download CSV\n                </button>\n            </div>\n\n            <p className=\"section-subtitle\">\n                Joined dataset used for the chart above. This combines COVID-19\n                daily stats and GDP growth for the selected country on a shared\n                date axis.\n            </p>\n\n            <div className=\"data-table-wrapper\">\n                <table className=\"data-table\">\n                    <thead>\n                        <tr>\n                            <th\n                                style={{\n                                    textAlign: \"left\",\n                                    background:\n                                        theme.tableHeaderBg || \"#fafafa\",\n                                }}\n                            >\n                                Date\n                            </th>\n                            <th\n                                style={{\n                                    background:\n                                        theme.tableHeaderBg || \"#fafafa\",\n                                }}\n                            >\n                                New cases\n                            </th>\n                            <th\n                                style={{\n                                    background:\n                                        theme.tableHeaderBg || \"#fafafa\",\n                                }}\n                            >\n                                Total cases\n                            </th>\n                            <th\n                                style={{\n                                    background:\n                                        theme.tableHeaderBg || \"#fafafa\",\n                                }}\n                            >\n                                Total deaths\n                            </th>\n                            <th\n                                style={{\n                                    background:\n                                        theme.tableHeaderBg || \"#fafafa\",\n                                }}\n                            >\n                                GDP growth (%)\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {rows.map((row) => (\n                            <tr key={row.date}>\n                                <td\n                                    style={{\n                                        textAlign: \"left\",\n                                        color: theme.textPrimary,\n                                    }}\n                                >\n                                    {row.date}\n                                </td>\n                                <td>\n                                    {row.newCases != null\n                                        ? formatNumber(row.newCases)\n                                        : \"—\"}\n                                </td>\n                                <td>\n                                    {row.confirmed != null\n                                        ? formatNumber(row.confirmed)\n                                        : \"—\"}\n                                </td>\n                                <td>\n                                    {row.deaths != null\n                                        ? formatNumber(row.deaths)\n                                        : \"—\"}\n                                </td>\n                                <td>\n                                    {row.gdpGrowth != null\n                                        ? row.gdpGrowth.toFixed(2)\n                                        : \"—\"}\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </section>\n    );\n}\n\nexport default DataPreviewTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}