{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useCovidGdpApiData.js\nimport { useEffect, useState } from \"react\";\n\n// Dashboard key → pomber COVID label\nconst COVID_COUNTRY_MAP = {\n  US: \"US\",\n  DE: \"Germany\",\n  IT: \"Italy\",\n  JP: \"Japan\",\n  CA: \"Canada\",\n  FR: \"France\",\n  SE: \"Sweden\",\n  MX: \"Mexico\",\n  NZ: \"New Zealand\",\n  TH: \"Thailand\"\n};\n\n// Preferred GDP source per country\nconst GDP_SOURCE = {\n  US: \"worldbank\",\n  DE: \"worldbank\",\n  IT: \"worldbank\",\n  JP: \"worldbank\",\n  CA: \"worldbank\",\n  FR: \"worldbank\",\n  SE: \"tradingeconomics\",\n  MX: \"tradingeconomics\",\n  NZ: \"tradingeconomics\",\n  TH: \"tradingeconomics\"\n};\n\n// World Bank: ISO3 country codes\nconst WB_COUNTRY_MAP = {\n  US: \"USA\",\n  DE: \"DEU\",\n  IT: \"ITA\",\n  JP: \"JPN\",\n  CA: \"CAN\",\n  FR: \"FRA\",\n  SE: \"SWE\",\n  MX: \"MEX\",\n  NZ: \"NZL\",\n  TH: \"THA\"\n};\n\n// TradingEconomics: country names for GDP\nconst TE_COUNTRY_MAP = {\n  SE: \"sweden\",\n  MX: \"mexico\",\n  NZ: \"new zealand\",\n  TH: \"thailand\"\n};\n\n// TradingEconomics: country names for COVID endpoint\nconst TE_COVID_COUNTRY_MAP = {\n  US: \"united states\",\n  DE: \"germany\",\n  IT: \"italy\",\n  JP: \"japan\",\n  CA: \"canada\",\n  FR: \"france\",\n  SE: \"sweden\",\n  MX: \"mexico\",\n  NZ: \"new zealand\",\n  TH: \"thailand\"\n};\n\n// Turn level series → growth% series (for TE GDP)\nfunction computeGrowthFromLevels(values) {\n  return values.map((point, idx, arr) => {\n    if (idx === 0) {\n      return {\n        ...point,\n        growth: null\n      };\n    }\n    const prev = arr[idx - 1].value;\n    const growth = prev === 0 || prev == null ? null : (point.value - prev) / prev * 100;\n    return {\n      ...point,\n      growth\n    };\n  });\n}\n\n// World Bank GDP growth (annual %)\nasync function fetchWorldBankGdp(wbCode) {\n  const url = `https://api.worldbank.org/v2/country/${wbCode}/indicator/NY.GDP.MKTP.KD.ZG?format=json&per_page=100`;\n  const res = await fetch(url);\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`World Bank GDP request failed (${res.status}): ${text || \"no body\"}`);\n  }\n  const json = await res.json();\n  const entries = Array.isArray(json) && Array.isArray(json[1]) ? json[1] : [];\n  const values = entries.filter(row => row.value != null && row.date).map(row => ({\n    date: `${row.date}-12-31`,\n    // align year to a date\n    value: Number(row.value),\n    growth: Number(row.value) // already in %\n  }));\n  values.sort((a, b) => a.date < b.date ? -1 : a.date > b.date ? 1 : 0);\n  return values;\n}\n\n// TradingEconomics GDP (levels → we compute growth)\nasync function fetchTradingEconomicsGdp(teCountry, apiKey, wbFallbackCode) {\n  if (!apiKey || !teCountry) {\n    return fetchWorldBankGdp(wbFallbackCode);\n  }\n  try {\n    const base = \"https://api.tradingeconomics.com\";\n    const url = `${base}/historical/country/${encodeURIComponent(teCountry)}/indicator/gdp?c=${encodeURIComponent(apiKey)}`;\n    const res = await fetch(url);\n    if (!res.ok) {\n      return fetchWorldBankGdp(wbFallbackCode);\n    }\n    const json = await res.json();\n    const raw = Array.isArray(json) ? json : [];\n    const values = raw.filter(row => row.Value != null).map(row => ({\n      date: row.Date ? row.Date.substring(0, 10) : null,\n      value: Number(row.Value)\n    })).filter(row => row.date != null);\n    if (values.length === 0) {\n      return fetchWorldBankGdp(wbFallbackCode);\n    }\n    values.sort((a, b) => a.date < b.date ? -1 : a.date > b.date ? 1 : 0);\n    return computeGrowthFromLevels(values);\n  } catch {\n    return fetchWorldBankGdp(wbFallbackCode);\n  }\n}\n\n// WHO/pomber COVID daily data\nasync function fetchWhoCovid(covidKey) {\n  const covidRes = await fetch(\"https://pomber.github.io/covid19/timeseries.json\");\n  if (!covidRes.ok) {\n    throw new Error(\"COVID API request failed\");\n  }\n  const covidJson = await covidRes.json();\n  const series = covidJson[covidKey];\n  if (!series) {\n    throw new Error(`No COVID data for country: ${covidKey}`);\n  }\n  return series.map((row, idx) => {\n    const prevConfirmed = idx > 0 ? series[idx - 1].confirmed : 0;\n    const prevDeaths = idx > 0 ? series[idx - 1].deaths : 0;\n    const newCases = row.confirmed - prevConfirmed;\n    const newDeaths = row.deaths - prevDeaths;\n    return {\n      date: row.date,\n      confirmed: row.confirmed,\n      deaths: row.deaths,\n      recovered: row.recovered,\n      newCases: newCases < 0 ? 0 : newCases,\n      newDeaths: newDeaths < 0 ? 0 : newDeaths\n    };\n  });\n}\n\n// TradingEconomics COVID daily (falls back to WHO on problems)\nasync function fetchTradingEconomicsCovid(countryKey, apiKey) {\n  const teCountry = TE_COVID_COUNTRY_MAP[countryKey];\n  if (!apiKey || !teCountry) {\n    throw new Error(\"Missing TradingEconomics COVID config\");\n  }\n  const base = \"https://api.tradingeconomics.com\";\n  const url = `${base}/coronavirus/country/${encodeURIComponent(teCountry)}?c=${encodeURIComponent(apiKey)}`;\n  const res = await fetch(url);\n  if (!res.ok) {\n    throw new Error(`TradingEconomics COVID request failed: ${res.status}`);\n  }\n  const json = await res.json();\n  const rows = Array.isArray(json) ? json : [json];\n  const sorted = rows.filter(r => r.Date && (r.Confirmed != null || r.TotalCases != null)).map(r => ({\n    date: r.Date.substring(0, 10),\n    confirmed: r.Confirmed != null ? Number(r.Confirmed) : Number(r.TotalCases),\n    deaths: r.Deaths != null ? Number(r.Deaths) : r.TotalDeaths != null ? Number(r.TotalDeaths) : null\n  })).filter(r => r.date);\n  sorted.sort((a, b) => a.date < b.date ? -1 : a.date > b.date ? 1 : 0);\n  if (sorted.length === 0) {\n    throw new Error(\"No usable TradingEconomics COVID rows\");\n  }\n\n  // derive newCases / newDeaths from cumulative\n  return sorted.map((row, idx) => {\n    const prev = idx > 0 ? sorted[idx - 1] : {\n      confirmed: 0,\n      deaths: 0\n    };\n    const newCases = row.confirmed - prev.confirmed;\n    const newDeaths = row.deaths != null && prev.deaths != null ? row.deaths - prev.deaths : null;\n    return {\n      date: row.date,\n      confirmed: row.confirmed,\n      deaths: row.deaths,\n      recovered: null,\n      newCases: newCases < 0 ? 0 : newCases,\n      newDeaths: newDeaths == null ? null : newDeaths < 0 ? 0 : newDeaths\n    };\n  });\n}\n\n/**\n * Public hook: fetch COVID + GDP and join them by date.\n *\n * @param {string} countryKey - e.g. \"US\", \"DE\", \"SE\"\n * @param {\"who\" | \"te\"} covidSource - preferred COVID data source\n */\nexport function useCovidGdpApiData(countryKey, covidSource = \"who\") {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [covidDaily, setCovidDaily] = useState([]);\n  const [gdpSeries, setGdpSeries] = useState([]);\n  const [combined, setCombined] = useState([]);\n  const covidKey = COVID_COUNTRY_MAP[countryKey] || countryKey;\n  const preferredSource = GDP_SOURCE[countryKey] || \"worldbank\";\n  const wbCode = WB_COUNTRY_MAP[countryKey] || \"USA\";\n  const teGdpCountry = TE_COUNTRY_MAP[countryKey];\n  const teApiKey = process.env.REACT_APP_TE_API_KEY;\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      try {\n        // 1. COVID: WHO vs TE (with fallback to WHO)\n        let covidSeries;\n        if (covidSource === \"te\") {\n          try {\n            covidSeries = await fetchTradingEconomicsCovid(countryKey, teApiKey);\n          } catch {\n            // fallback to WHO if TE fails\n            covidSeries = await fetchWhoCovid(covidKey);\n          }\n        } else {\n          covidSeries = await fetchWhoCovid(covidKey);\n        }\n\n        // 2. GDP: preferred source with fallback\n        let gdpWithGrowth;\n        if (preferredSource === \"tradingeconomics\") {\n          gdpWithGrowth = await fetchTradingEconomicsGdp(teGdpCountry, teApiKey, wbCode);\n        } else {\n          gdpWithGrowth = await fetchWorldBankGdp(wbCode);\n        }\n\n        // 3. Join GDP growth onto each COVID day\n        let j = 0;\n        const joined = covidSeries.map(day => {\n          const dayDate = day.date;\n          while (j + 1 < gdpWithGrowth.length && gdpWithGrowth[j + 1].date <= dayDate) {\n            j++;\n          }\n          const gdpForDay = gdpWithGrowth[j] || null;\n          return {\n            date: day.date,\n            newCases: day.newCases,\n            confirmed: day.confirmed,\n            deaths: day.deaths,\n            newDeaths: day.newDeaths,\n            gdpGrowth: gdpForDay ? gdpForDay.growth : null\n          };\n        });\n        setCovidDaily(covidSeries);\n        setGdpSeries(gdpWithGrowth);\n        setCombined(joined);\n        setLoading(false);\n      } catch (err) {\n        setError(err);\n        setLoading(false);\n      }\n    }\n    if (countryKey) {\n      fetchData();\n    }\n  }, [countryKey, covidKey, covidSource, preferredSource, wbCode, teGdpCountry, teApiKey]);\n  return {\n    loading,\n    error,\n    covidDaily,\n    gdpSeries,\n    combined\n  };\n}\n_s(useCovidGdpApiData, \"QSABJevVDZQIcSWzB2W5w0ZfyAM=\");","map":{"version":3,"names":["useEffect","useState","COVID_COUNTRY_MAP","US","DE","IT","JP","CA","FR","SE","MX","NZ","TH","GDP_SOURCE","WB_COUNTRY_MAP","TE_COUNTRY_MAP","TE_COVID_COUNTRY_MAP","computeGrowthFromLevels","values","map","point","idx","arr","growth","prev","value","fetchWorldBankGdp","wbCode","url","res","fetch","ok","text","Error","status","json","entries","Array","isArray","filter","row","date","Number","sort","a","b","fetchTradingEconomicsGdp","teCountry","apiKey","wbFallbackCode","base","encodeURIComponent","raw","Value","Date","substring","length","fetchWhoCovid","covidKey","covidRes","covidJson","series","prevConfirmed","confirmed","prevDeaths","deaths","newCases","newDeaths","recovered","fetchTradingEconomicsCovid","countryKey","rows","sorted","r","Confirmed","TotalCases","Deaths","TotalDeaths","useCovidGdpApiData","covidSource","_s","loading","setLoading","error","setError","covidDaily","setCovidDaily","gdpSeries","setGdpSeries","combined","setCombined","preferredSource","teGdpCountry","teApiKey","process","env","REACT_APP_TE_API_KEY","fetchData","covidSeries","gdpWithGrowth","j","joined","day","dayDate","gdpForDay","gdpGrowth","err"],"sources":["/Users/trakoolthai/Desktop/front-end-final-project/src/hooks/useCovidGdpApiData.js"],"sourcesContent":["// src/hooks/useCovidGdpApiData.js\nimport { useEffect, useState } from \"react\";\n\n// Dashboard key → pomber COVID label\nconst COVID_COUNTRY_MAP = {\n    US: \"US\",\n    DE: \"Germany\",\n    IT: \"Italy\",\n    JP: \"Japan\",\n    CA: \"Canada\",\n    FR: \"France\",\n    SE: \"Sweden\",\n    MX: \"Mexico\",\n    NZ: \"New Zealand\",\n    TH: \"Thailand\",\n};\n\n// Preferred GDP source per country\nconst GDP_SOURCE = {\n    US: \"worldbank\",\n    DE: \"worldbank\",\n    IT: \"worldbank\",\n    JP: \"worldbank\",\n    CA: \"worldbank\",\n    FR: \"worldbank\",\n    SE: \"tradingeconomics\",\n    MX: \"tradingeconomics\",\n    NZ: \"tradingeconomics\",\n    TH: \"tradingeconomics\",\n};\n\n// World Bank: ISO3 country codes\nconst WB_COUNTRY_MAP = {\n    US: \"USA\",\n    DE: \"DEU\",\n    IT: \"ITA\",\n    JP: \"JPN\",\n    CA: \"CAN\",\n    FR: \"FRA\",\n    SE: \"SWE\",\n    MX: \"MEX\",\n    NZ: \"NZL\",\n    TH: \"THA\",\n};\n\n// TradingEconomics: country names for GDP\nconst TE_COUNTRY_MAP = {\n    SE: \"sweden\",\n    MX: \"mexico\",\n    NZ: \"new zealand\",\n    TH: \"thailand\",\n};\n\n// TradingEconomics: country names for COVID endpoint\nconst TE_COVID_COUNTRY_MAP = {\n    US: \"united states\",\n    DE: \"germany\",\n    IT: \"italy\",\n    JP: \"japan\",\n    CA: \"canada\",\n    FR: \"france\",\n    SE: \"sweden\",\n    MX: \"mexico\",\n    NZ: \"new zealand\",\n    TH: \"thailand\",\n};\n\n// Turn level series → growth% series (for TE GDP)\nfunction computeGrowthFromLevels(values) {\n    return values.map((point, idx, arr) => {\n        if (idx === 0) {\n            return { ...point, growth: null };\n        }\n        const prev = arr[idx - 1].value;\n        const growth =\n            prev === 0 || prev == null\n                ? null\n                : ((point.value - prev) / prev) * 100;\n        return { ...point, growth };\n    });\n}\n\n// World Bank GDP growth (annual %)\nasync function fetchWorldBankGdp(wbCode) {\n    const url = `https://api.worldbank.org/v2/country/${wbCode}/indicator/NY.GDP.MKTP.KD.ZG?format=json&per_page=100`;\n    const res = await fetch(url);\n    if (!res.ok) {\n        const text = await res.text();\n        throw new Error(\n            `World Bank GDP request failed (${res.status}): ${\n                text || \"no body\"\n            }`\n        );\n    }\n\n    const json = await res.json();\n    const entries =\n        Array.isArray(json) && Array.isArray(json[1]) ? json[1] : [];\n\n    const values = entries\n        .filter((row) => row.value != null && row.date)\n        .map((row) => ({\n            date: `${row.date}-12-31`, // align year to a date\n            value: Number(row.value),\n            growth: Number(row.value), // already in %\n        }));\n\n    values.sort((a, b) => (a.date < b.date ? -1 : a.date > b.date ? 1 : 0));\n    return values;\n}\n\n// TradingEconomics GDP (levels → we compute growth)\nasync function fetchTradingEconomicsGdp(teCountry, apiKey, wbFallbackCode) {\n    if (!apiKey || !teCountry) {\n        return fetchWorldBankGdp(wbFallbackCode);\n    }\n\n    try {\n        const base = \"https://api.tradingeconomics.com\";\n        const url = `${base}/historical/country/${encodeURIComponent(\n            teCountry\n        )}/indicator/gdp?c=${encodeURIComponent(apiKey)}`;\n\n        const res = await fetch(url);\n        if (!res.ok) {\n            return fetchWorldBankGdp(wbFallbackCode);\n        }\n\n        const json = await res.json();\n        const raw = Array.isArray(json) ? json : [];\n\n        const values = raw\n            .filter((row) => row.Value != null)\n            .map((row) => ({\n                date: row.Date ? row.Date.substring(0, 10) : null,\n                value: Number(row.Value),\n            }))\n            .filter((row) => row.date != null);\n\n        if (values.length === 0) {\n            return fetchWorldBankGdp(wbFallbackCode);\n        }\n\n        values.sort((a, b) => (a.date < b.date ? -1 : a.date > b.date ? 1 : 0));\n        return computeGrowthFromLevels(values);\n    } catch {\n        return fetchWorldBankGdp(wbFallbackCode);\n    }\n}\n\n// WHO/pomber COVID daily data\nasync function fetchWhoCovid(covidKey) {\n    const covidRes = await fetch(\n        \"https://pomber.github.io/covid19/timeseries.json\"\n    );\n    if (!covidRes.ok) {\n        throw new Error(\"COVID API request failed\");\n    }\n    const covidJson = await covidRes.json();\n    const series = covidJson[covidKey];\n    if (!series) {\n        throw new Error(`No COVID data for country: ${covidKey}`);\n    }\n\n    return series.map((row, idx) => {\n        const prevConfirmed = idx > 0 ? series[idx - 1].confirmed : 0;\n        const prevDeaths = idx > 0 ? series[idx - 1].deaths : 0;\n        const newCases = row.confirmed - prevConfirmed;\n        const newDeaths = row.deaths - prevDeaths;\n        return {\n            date: row.date,\n            confirmed: row.confirmed,\n            deaths: row.deaths,\n            recovered: row.recovered,\n            newCases: newCases < 0 ? 0 : newCases,\n            newDeaths: newDeaths < 0 ? 0 : newDeaths,\n        };\n    });\n}\n\n// TradingEconomics COVID daily (falls back to WHO on problems)\nasync function fetchTradingEconomicsCovid(countryKey, apiKey) {\n    const teCountry = TE_COVID_COUNTRY_MAP[countryKey];\n    if (!apiKey || !teCountry) {\n        throw new Error(\"Missing TradingEconomics COVID config\");\n    }\n\n    const base = \"https://api.tradingeconomics.com\";\n    const url = `${base}/coronavirus/country/${encodeURIComponent(\n        teCountry\n    )}?c=${encodeURIComponent(apiKey)}`;\n\n    const res = await fetch(url);\n    if (!res.ok) {\n        throw new Error(`TradingEconomics COVID request failed: ${res.status}`);\n    }\n\n    const json = await res.json();\n    const rows = Array.isArray(json) ? json : [json];\n\n    const sorted = rows\n        .filter((r) => r.Date && (r.Confirmed != null || r.TotalCases != null))\n        .map((r) => ({\n            date: r.Date.substring(0, 10),\n            confirmed:\n                r.Confirmed != null\n                    ? Number(r.Confirmed)\n                    : Number(r.TotalCases),\n            deaths:\n                r.Deaths != null\n                    ? Number(r.Deaths)\n                    : r.TotalDeaths != null\n                    ? Number(r.TotalDeaths)\n                    : null,\n        }))\n        .filter((r) => r.date);\n\n    sorted.sort((a, b) => (a.date < b.date ? -1 : a.date > b.date ? 1 : 0));\n\n    if (sorted.length === 0) {\n        throw new Error(\"No usable TradingEconomics COVID rows\");\n    }\n\n    // derive newCases / newDeaths from cumulative\n    return sorted.map((row, idx) => {\n        const prev = idx > 0 ? sorted[idx - 1] : { confirmed: 0, deaths: 0 };\n        const newCases = row.confirmed - prev.confirmed;\n        const newDeaths =\n            row.deaths != null && prev.deaths != null\n                ? row.deaths - prev.deaths\n                : null;\n        return {\n            date: row.date,\n            confirmed: row.confirmed,\n            deaths: row.deaths,\n            recovered: null,\n            newCases: newCases < 0 ? 0 : newCases,\n            newDeaths: newDeaths == null ? null : newDeaths < 0 ? 0 : newDeaths,\n        };\n    });\n}\n\n/**\n * Public hook: fetch COVID + GDP and join them by date.\n *\n * @param {string} countryKey - e.g. \"US\", \"DE\", \"SE\"\n * @param {\"who\" | \"te\"} covidSource - preferred COVID data source\n */\nexport function useCovidGdpApiData(countryKey, covidSource = \"who\") {\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const [covidDaily, setCovidDaily] = useState([]);\n    const [gdpSeries, setGdpSeries] = useState([]);\n    const [combined, setCombined] = useState([]);\n\n    const covidKey = COVID_COUNTRY_MAP[countryKey] || countryKey;\n    const preferredSource = GDP_SOURCE[countryKey] || \"worldbank\";\n    const wbCode = WB_COUNTRY_MAP[countryKey] || \"USA\";\n    const teGdpCountry = TE_COUNTRY_MAP[countryKey];\n    const teApiKey = process.env.REACT_APP_TE_API_KEY;\n\n    useEffect(() => {\n        async function fetchData() {\n            setLoading(true);\n            setError(null);\n\n            try {\n                // 1. COVID: WHO vs TE (with fallback to WHO)\n                let covidSeries;\n                if (covidSource === \"te\") {\n                    try {\n                        covidSeries = await fetchTradingEconomicsCovid(\n                            countryKey,\n                            teApiKey\n                        );\n                    } catch {\n                        // fallback to WHO if TE fails\n                        covidSeries = await fetchWhoCovid(covidKey);\n                    }\n                } else {\n                    covidSeries = await fetchWhoCovid(covidKey);\n                }\n\n                // 2. GDP: preferred source with fallback\n                let gdpWithGrowth;\n                if (preferredSource === \"tradingeconomics\") {\n                    gdpWithGrowth = await fetchTradingEconomicsGdp(\n                        teGdpCountry,\n                        teApiKey,\n                        wbCode\n                    );\n                } else {\n                    gdpWithGrowth = await fetchWorldBankGdp(wbCode);\n                }\n\n                // 3. Join GDP growth onto each COVID day\n                let j = 0;\n                const joined = covidSeries.map((day) => {\n                    const dayDate = day.date;\n                    while (\n                        j + 1 < gdpWithGrowth.length &&\n                        gdpWithGrowth[j + 1].date <= dayDate\n                    ) {\n                        j++;\n                    }\n                    const gdpForDay = gdpWithGrowth[j] || null;\n\n                    return {\n                        date: day.date,\n                        newCases: day.newCases,\n                        confirmed: day.confirmed,\n                        deaths: day.deaths,\n                        newDeaths: day.newDeaths,\n                        gdpGrowth: gdpForDay ? gdpForDay.growth : null,\n                    };\n                });\n\n                setCovidDaily(covidSeries);\n                setGdpSeries(gdpWithGrowth);\n                setCombined(joined);\n                setLoading(false);\n            } catch (err) {\n                setError(err);\n                setLoading(false);\n            }\n        }\n\n        if (countryKey) {\n            fetchData();\n        }\n    }, [\n        countryKey,\n        covidKey,\n        covidSource,\n        preferredSource,\n        wbCode,\n        teGdpCountry,\n        teApiKey,\n    ]);\n\n    return { loading, error, covidDaily, gdpSeries, combined };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}