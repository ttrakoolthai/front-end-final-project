{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\n\n// Dashboard key → pomber COVID label\nconst COVID_COUNTRY_MAP = {\n  US: \"US\",\n  DE: \"Germany\",\n  IT: \"Italy\",\n  JP: \"Japan\",\n  CA: \"Canada\",\n  FR: \"France\",\n  SE: \"Sweden\",\n  MX: \"Mexico\",\n  NZ: \"New Zealand\",\n  TH: \"Thailand\"\n};\n\n// Preferred GDP source per country\nconst GDP_SOURCE = {\n  US: \"worldbank\",\n  DE: \"worldbank\",\n  IT: \"worldbank\",\n  JP: \"worldbank\",\n  CA: \"worldbank\",\n  FR: \"worldbank\",\n  SE: \"tradingeconomics\",\n  MX: \"tradingeconomics\",\n  NZ: \"tradingeconomics\",\n  TH: \"tradingeconomics\"\n};\n\n// World Bank: ISO3 country codes\nconst WB_COUNTRY_MAP = {\n  US: \"USA\",\n  DE: \"DEU\",\n  IT: \"ITA\",\n  JP: \"JPN\",\n  CA: \"CAN\",\n  FR: \"FRA\",\n  SE: \"SWE\",\n  MX: \"MEX\",\n  NZ: \"NZL\",\n  TH: \"THA\"\n};\n\n// TradingEconomics: country names\nconst TE_COUNTRY_MAP = {\n  SE: \"sweden\",\n  MX: \"mexico\",\n  NZ: \"new zealand\",\n  TH: \"thailand\"\n};\n\n// Turn level series → growth% series (for TE)\nfunction computeGrowthFromLevels(values) {\n  return values.map((point, idx, arr) => {\n    if (idx === 0) {\n      return {\n        ...point,\n        growth: null\n      };\n    }\n    const prev = arr[idx - 1].value;\n    const growth = prev === 0 || prev == null ? null : (point.value - prev) / prev * 100;\n    return {\n      ...point,\n      growth\n    };\n  });\n}\n\n// World Bank GDP growth (annual %)\nasync function fetchWorldBankGdp(wbCode) {\n  const url = `https://api.worldbank.org/v2/country/${wbCode}/indicator/NY.GDP.MKTP.KD.ZG?format=json&per_page=100`;\n  const res = await fetch(url);\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`World Bank GDP request failed (${res.status}): ${text || \"no body\"}`);\n  }\n  const json = await res.json();\n  const entries = Array.isArray(json) && Array.isArray(json[1]) ? json[1] : [];\n  const values = entries.filter(row => row.value != null && row.date).map(row => ({\n    date: `${row.date}-12-31`,\n    // align year to end-of-year date\n    value: Number(row.value),\n    growth: Number(row.value) // already %\n  }));\n  values.sort((a, b) => a.date < b.date ? -1 : a.date > b.date ? 1 : 0);\n  return values;\n}\n\n// TradingEconomics GDP (level → we compute growth)\nasync function fetchTradingEconomicsGdp(teCountry, apiKey, wbFallbackCode) {\n  if (!apiKey || !teCountry) {\n    // fallback directly to WB if no TE config\n    return fetchWorldBankGdp(wbFallbackCode);\n  }\n  try {\n    const base = \"https://api.tradingeconomics.com\";\n    const url = `${base}/historical/country/${encodeURIComponent(teCountry)}/indicator/gdp?c=${encodeURIComponent(apiKey)}`;\n    const res = await fetch(url);\n    if (!res.ok) {\n      // TE may 403 or 4xx on some countries; fallback to WB\n      return fetchWorldBankGdp(wbFallbackCode);\n    }\n    const json = await res.json();\n    const raw = Array.isArray(json) ? json : [];\n    const values = raw.filter(row => row.Value != null).map(row => ({\n      date: row.Date ? row.Date.substring(0, 10) : null,\n      value: Number(row.Value)\n    })).filter(row => row.date != null);\n    if (values.length === 0) {\n      // also fallback if TE returns no usable points\n      return fetchWorldBankGdp(wbFallbackCode);\n    }\n    values.sort((a, b) => a.date < b.date ? -1 : a.date > b.date ? 1 : 0);\n    return computeGrowthFromLevels(values);\n  } catch {\n    // network or JSON problems → fallback to WB\n    return fetchWorldBankGdp(wbFallbackCode);\n  }\n}\n\n/**\n * Public hook: fetch COVID + GDP and join them by date.\n */\nexport function useCovidGdpApiData(countryKey) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [covidDaily, setCovidDaily] = useState([]);\n  const [gdpSeries, setGdpSeries] = useState([]);\n  const [combined, setCombined] = useState([]);\n  const covidKey = COVID_COUNTRY_MAP[countryKey] || countryKey;\n  const preferredSource = GDP_SOURCE[countryKey] || \"worldbank\";\n  const wbCode = WB_COUNTRY_MAP[countryKey] || \"USA\";\n  const teCountry = TE_COUNTRY_MAP[countryKey];\n  const teApiKey = process.env.REACT_APP_TE_API_KEY;\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      try {\n        // 1. COVID (pomber)\n        const covidRes = await fetch(\"https://pomber.github.io/covid19/timeseries.json\");\n        if (!covidRes.ok) {\n          throw new Error(\"COVID API request failed\");\n        }\n        const covidJson = await covidRes.json();\n        const series = covidJson[covidKey];\n        if (!series) {\n          throw new Error(`No COVID data for country: ${covidKey}`);\n        }\n        const covidWithNew = series.map((row, idx) => {\n          const prevConfirmed = idx > 0 ? series[idx - 1].confirmed : 0;\n          const newCases = row.confirmed - prevConfirmed;\n          return {\n            date: row.date,\n            confirmed: row.confirmed,\n            deaths: row.deaths,\n            recovered: row.recovered,\n            newCases: newCases < 0 ? 0 : newCases\n          };\n        });\n\n        // 2. GDP (preferred source with fallback)\n        let gdpWithGrowth;\n        if (preferredSource === \"tradingeconomics\") {\n          gdpWithGrowth = await fetchTradingEconomicsGdp(teCountry, teApiKey, wbCode);\n        } else {\n          gdpWithGrowth = await fetchWorldBankGdp(wbCode);\n        }\n\n        // 3. Join: each COVID day gets latest GDP growth at or before that date\n        let j = 0;\n        const joined = covidWithNew.map(day => {\n          const dayDate = day.date;\n          while (j + 1 < gdpWithGrowth.length && gdpWithGrowth[j + 1].date <= dayDate) {\n            j++;\n          }\n          const gdpForDay = gdpWithGrowth[j] || null;\n          return {\n            date: day.date,\n            newCases: day.newCases,\n            confirmed: day.confirmed,\n            deaths: day.deaths,\n            gdpGrowth: gdpForDay ? gdpForDay.growth : null\n          };\n        });\n        setCovidDaily(covidWithNew);\n        setGdpSeries(gdpWithGrowth);\n        setCombined(joined);\n        setLoading(false);\n      } catch (err) {\n        setError(err);\n        setLoading(false);\n      }\n    }\n    if (countryKey) {\n      fetchData();\n    }\n  }, [countryKey, covidKey, preferredSource, wbCode, teCountry, teApiKey]);\n  return {\n    loading,\n    error,\n    covidDaily,\n    gdpSeries,\n    combined\n  };\n}\n_s(useCovidGdpApiData, \"QSABJevVDZQIcSWzB2W5w0ZfyAM=\");","map":{"version":3,"names":["useEffect","useState","COVID_COUNTRY_MAP","US","DE","IT","JP","CA","FR","SE","MX","NZ","TH","GDP_SOURCE","WB_COUNTRY_MAP","TE_COUNTRY_MAP","computeGrowthFromLevels","values","map","point","idx","arr","growth","prev","value","fetchWorldBankGdp","wbCode","url","res","fetch","ok","text","Error","status","json","entries","Array","isArray","filter","row","date","Number","sort","a","b","fetchTradingEconomicsGdp","teCountry","apiKey","wbFallbackCode","base","encodeURIComponent","raw","Value","Date","substring","length","useCovidGdpApiData","countryKey","_s","loading","setLoading","error","setError","covidDaily","setCovidDaily","gdpSeries","setGdpSeries","combined","setCombined","covidKey","preferredSource","teApiKey","process","env","REACT_APP_TE_API_KEY","fetchData","covidRes","covidJson","series","covidWithNew","prevConfirmed","confirmed","newCases","deaths","recovered","gdpWithGrowth","j","joined","day","dayDate","gdpForDay","gdpGrowth","err"],"sources":["/Users/trakoolthai/Desktop/front-end-final-project/src/hooks/useCovidGdpApiData.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\n// Dashboard key → pomber COVID label\nconst COVID_COUNTRY_MAP = {\n    US: \"US\",\n    DE: \"Germany\",\n    IT: \"Italy\",\n    JP: \"Japan\",\n    CA: \"Canada\",\n    FR: \"France\",\n    SE: \"Sweden\",\n    MX: \"Mexico\",\n    NZ: \"New Zealand\",\n    TH: \"Thailand\",\n};\n\n// Preferred GDP source per country\nconst GDP_SOURCE = {\n    US: \"worldbank\",\n    DE: \"worldbank\",\n    IT: \"worldbank\",\n    JP: \"worldbank\",\n    CA: \"worldbank\",\n    FR: \"worldbank\",\n    SE: \"tradingeconomics\",\n    MX: \"tradingeconomics\",\n    NZ: \"tradingeconomics\",\n    TH: \"tradingeconomics\",\n};\n\n// World Bank: ISO3 country codes\nconst WB_COUNTRY_MAP = {\n    US: \"USA\",\n    DE: \"DEU\",\n    IT: \"ITA\",\n    JP: \"JPN\",\n    CA: \"CAN\",\n    FR: \"FRA\",\n    SE: \"SWE\",\n    MX: \"MEX\",\n    NZ: \"NZL\",\n    TH: \"THA\",\n};\n\n// TradingEconomics: country names\nconst TE_COUNTRY_MAP = {\n    SE: \"sweden\",\n    MX: \"mexico\",\n    NZ: \"new zealand\",\n    TH: \"thailand\",\n};\n\n// Turn level series → growth% series (for TE)\nfunction computeGrowthFromLevels(values) {\n    return values.map((point, idx, arr) => {\n        if (idx === 0) {\n            return { ...point, growth: null };\n        }\n        const prev = arr[idx - 1].value;\n        const growth =\n            prev === 0 || prev == null\n                ? null\n                : ((point.value - prev) / prev) * 100;\n        return { ...point, growth };\n    });\n}\n\n// World Bank GDP growth (annual %)\nasync function fetchWorldBankGdp(wbCode) {\n    const url = `https://api.worldbank.org/v2/country/${wbCode}/indicator/NY.GDP.MKTP.KD.ZG?format=json&per_page=100`;\n    const res = await fetch(url);\n    if (!res.ok) {\n        const text = await res.text();\n        throw new Error(\n            `World Bank GDP request failed (${res.status}): ${\n                text || \"no body\"\n            }`\n        );\n    }\n\n    const json = await res.json();\n    const entries =\n        Array.isArray(json) && Array.isArray(json[1]) ? json[1] : [];\n\n    const values = entries\n        .filter((row) => row.value != null && row.date)\n        .map((row) => ({\n            date: `${row.date}-12-31`, // align year to end-of-year date\n            value: Number(row.value),\n            growth: Number(row.value), // already %\n        }));\n\n    values.sort((a, b) => (a.date < b.date ? -1 : a.date > b.date ? 1 : 0));\n    return values;\n}\n\n// TradingEconomics GDP (level → we compute growth)\nasync function fetchTradingEconomicsGdp(teCountry, apiKey, wbFallbackCode) {\n    if (!apiKey || !teCountry) {\n        // fallback directly to WB if no TE config\n        return fetchWorldBankGdp(wbFallbackCode);\n    }\n\n    try {\n        const base = \"https://api.tradingeconomics.com\";\n        const url = `${base}/historical/country/${encodeURIComponent(\n            teCountry\n        )}/indicator/gdp?c=${encodeURIComponent(apiKey)}`;\n\n        const res = await fetch(url);\n        if (!res.ok) {\n            // TE may 403 or 4xx on some countries; fallback to WB\n            return fetchWorldBankGdp(wbFallbackCode);\n        }\n\n        const json = await res.json();\n        const raw = Array.isArray(json) ? json : [];\n\n        const values = raw\n            .filter((row) => row.Value != null)\n            .map((row) => ({\n                date: row.Date ? row.Date.substring(0, 10) : null,\n                value: Number(row.Value),\n            }))\n            .filter((row) => row.date != null);\n\n        if (values.length === 0) {\n            // also fallback if TE returns no usable points\n            return fetchWorldBankGdp(wbFallbackCode);\n        }\n\n        values.sort((a, b) => (a.date < b.date ? -1 : a.date > b.date ? 1 : 0));\n        return computeGrowthFromLevels(values);\n    } catch {\n        // network or JSON problems → fallback to WB\n        return fetchWorldBankGdp(wbFallbackCode);\n    }\n}\n\n/**\n * Public hook: fetch COVID + GDP and join them by date.\n */\nexport function useCovidGdpApiData(countryKey) {\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const [covidDaily, setCovidDaily] = useState([]);\n    const [gdpSeries, setGdpSeries] = useState([]);\n    const [combined, setCombined] = useState([]);\n\n    const covidKey = COVID_COUNTRY_MAP[countryKey] || countryKey;\n    const preferredSource = GDP_SOURCE[countryKey] || \"worldbank\";\n    const wbCode = WB_COUNTRY_MAP[countryKey] || \"USA\";\n    const teCountry = TE_COUNTRY_MAP[countryKey];\n    const teApiKey = process.env.REACT_APP_TE_API_KEY;\n\n    useEffect(() => {\n        async function fetchData() {\n            setLoading(true);\n            setError(null);\n\n            try {\n                // 1. COVID (pomber)\n                const covidRes = await fetch(\n                    \"https://pomber.github.io/covid19/timeseries.json\"\n                );\n                if (!covidRes.ok) {\n                    throw new Error(\"COVID API request failed\");\n                }\n                const covidJson = await covidRes.json();\n                const series = covidJson[covidKey];\n                if (!series) {\n                    throw new Error(`No COVID data for country: ${covidKey}`);\n                }\n\n                const covidWithNew = series.map((row, idx) => {\n                    const prevConfirmed =\n                        idx > 0 ? series[idx - 1].confirmed : 0;\n                    const newCases = row.confirmed - prevConfirmed;\n                    return {\n                        date: row.date,\n                        confirmed: row.confirmed,\n                        deaths: row.deaths,\n                        recovered: row.recovered,\n                        newCases: newCases < 0 ? 0 : newCases,\n                    };\n                });\n\n                // 2. GDP (preferred source with fallback)\n                let gdpWithGrowth;\n                if (preferredSource === \"tradingeconomics\") {\n                    gdpWithGrowth = await fetchTradingEconomicsGdp(\n                        teCountry,\n                        teApiKey,\n                        wbCode\n                    );\n                } else {\n                    gdpWithGrowth = await fetchWorldBankGdp(wbCode);\n                }\n\n                // 3. Join: each COVID day gets latest GDP growth at or before that date\n                let j = 0;\n                const joined = covidWithNew.map((day) => {\n                    const dayDate = day.date;\n                    while (\n                        j + 1 < gdpWithGrowth.length &&\n                        gdpWithGrowth[j + 1].date <= dayDate\n                    ) {\n                        j++;\n                    }\n                    const gdpForDay = gdpWithGrowth[j] || null;\n\n                    return {\n                        date: day.date,\n                        newCases: day.newCases,\n                        confirmed: day.confirmed,\n                        deaths: day.deaths,\n                        gdpGrowth: gdpForDay ? gdpForDay.growth : null,\n                    };\n                });\n\n                setCovidDaily(covidWithNew);\n                setGdpSeries(gdpWithGrowth);\n                setCombined(joined);\n                setLoading(false);\n            } catch (err) {\n                setError(err);\n                setLoading(false);\n            }\n        }\n\n        if (countryKey) {\n            fetchData();\n        }\n    }, [countryKey, covidKey, preferredSource, wbCode, teCountry, teApiKey]);\n\n    return { loading, error, covidDaily, gdpSeries, combined };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}